<!DOCTYPE HTML>
<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <title>Scripting Guide</title>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="generator" content="Jekyll v4.2.0">
  <link rel="alternate" type="application/rss+xml" title="Ball Aerospace COSMOS News" href="/feed.xml">
  <link rel="alternate" type="application/atom+xml" title="Recent commits to COSMOS's master branch" href="https://github.com/BallAerospace/COSMOS/commits/master.atom">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic,900">
  <link rel="stylesheet" href="/css/screen.css">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <!--[if lt IE 9]>
  <script src="/js/html5shiv.min.js"></script>
  <script src="/js/respond.min.js"></script>
  <![endif]-->
</head>


<body class="wrap">
  <header role="banner">
  <nav class="mobile-nav show-on-mobiles">
    <ul>
  <li class="">
    <a href="/">Home</a>
  </li>
  <li class="current">
    <span class="hide-on-mobiles"><a href="/docs/v4/">Documentation</a></span>
    <span class="show-on-mobiles"><a href="/docs/v4/">Docs</a></span>
  </li>
  <li class="">
    <a href="/news/">News</a>
  </li>
  <li>
    <a href="/help/">Help</a>
  </li>
  <li>
    <a href="https://github.com/BallAerospace/COSMOS" target="_blank"
      ><span class="hide-on-mobiles">View on </span>GitHub</a
    >
  </li>
</ul>

  </nav>
  <div class="grid wider">
    <div class="unit one-third center-on-mobiles" style="margin-top:27px;">
      <h1>
        <a href="/">
          <span class="sr-only">COSMOS</span>
          <img src="/img/COSMOS.png" width="312" height="70" alt="COSMOS Logo">
        </a>
      </h1>
    </div>
    <nav class="main-nav unit two-thirds hide-on-mobiles">
      <ul>
  <li class="">
    <a href="/">Home</a>
  </li>
  <li class="current">
    <span class="hide-on-mobiles"><a href="/docs/v4/">Documentation</a></span>
    <span class="show-on-mobiles"><a href="/docs/v4/">Docs</a></span>
  </li>
  <li class="">
    <a href="/news/">News</a>
  </li>
  <li>
    <a href="/help/">Help</a>
  </li>
  <li>
    <a href="https://github.com/BallAerospace/COSMOS" target="_blank"
      ><span class="hide-on-mobiles">View on </span>GitHub</a
    >
  </li>
</ul>

    </nav>
  </div>
</header>


  <section class="docs">
  <div class="grid wider">
    <div class="unit four-fifths">
      <article>
        <!-- Get version but ignore the "docs" collection -->
        <!-- prettier-ignore -->
        
        
        <div class="improve right">
          <span class="version-badge">v5</span>
        </div>
         
        <div class="toc"><ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#concepts">Concepts</a>
<ul>
<li class="toc-entry toc-h3"><a href="#ruby-programming-language">Ruby Programming Language</a></li>
<li class="toc-entry toc-h3"><a href="#telemetry-types">Telemetry Types</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#writing-test-procedures">Writing Test Procedures</a>
<ul>
<li class="toc-entry toc-h3"><a href="#using-subroutines">Using Subroutines</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#example-test-procedures">Example Test Procedures</a>
<ul>
<li class="toc-entry toc-h3"><a href="#subroutines">Subroutines</a></li>
<li class="toc-entry toc-h3"><a href="#ruby-control-structures">Ruby Control Structures</a></li>
<li class="toc-entry toc-h3"><a href="#iterating-over-similarly-named-telemetry-points">Iterating over similarly named telemetry points</a></li>
<li class="toc-entry toc-h3"><a href="#prompting-for-user-input">Prompting for User Input</a></li>
<li class="toc-entry toc-h3"><a href="#skipping-a-test-case-in-testrunner">Skipping a test case in TestRunner</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#running-test-procedures">Running Test Procedures</a></li>
<li class="toc-entry toc-h2"><a href="#execution-environment">Execution Environment</a>
<ul>
<li class="toc-entry toc-h3"><a href="#using-script-runner">Using Script Runner</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#test-procedure-api">Test Procedure API</a></li>
<li class="toc-entry toc-h2"><a href="#retrieving-user-input">Retrieving User Input</a>
<ul>
<li class="toc-entry toc-h3"><a href="#ask">ask</a></li>
<li class="toc-entry toc-h3"><a href="#ask_string">ask_string</a></li>
<li class="toc-entry toc-h3"><a href="#message_box">message_box</a></li>
<li class="toc-entry toc-h3"><a href="#vertical_message_box">vertical_message_box</a></li>
<li class="toc-entry toc-h3"><a href="#combo_box">combo_box</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#providing-information-to-the-user">Providing information to the user</a>
<ul>
<li class="toc-entry toc-h3"><a href="#prompt">prompt</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#commands">Commands</a>
<ul>
<li class="toc-entry toc-h3"><a href="#cmd">cmd</a></li>
<li class="toc-entry toc-h3"><a href="#cmd_no_range_check">cmd_no_range_check</a></li>
<li class="toc-entry toc-h3"><a href="#cmd_no_hazardous_check">cmd_no_hazardous_check</a></li>
<li class="toc-entry toc-h3"><a href="#cmd_no_checks">cmd_no_checks</a></li>
<li class="toc-entry toc-h3"><a href="#cmd_raw">cmd_raw</a></li>
<li class="toc-entry toc-h3"><a href="#cmd_raw_no_range_check">cmd_raw_no_range_check</a></li>
<li class="toc-entry toc-h3"><a href="#cmd_raw_no_hazardous_check">cmd_raw_no_hazardous_check</a></li>
<li class="toc-entry toc-h3"><a href="#cmd_raw_no_checks">cmd_raw_no_checks</a></li>
<li class="toc-entry toc-h3"><a href="#send_raw">send_raw</a></li>
<li class="toc-entry toc-h3"><a href="#get_all_commands-since-500">get_all_commands (since 5.0.0)</a></li>
<li class="toc-entry toc-h3"><a href="#get_command-since-500">get_command (since 5.0.0)</a></li>
<li class="toc-entry toc-h3"><a href="#get_parameter-since-500">get_parameter (since 5.0.0)</a></li>
<li class="toc-entry toc-h3"><a href="#get_cmd_buffer">get_cmd_buffer</a></li>
<li class="toc-entry toc-h3"><a href="#get_cmd_hazardous">get_cmd_hazardous</a></li>
<li class="toc-entry toc-h3"><a href="#get_cmd_value">get_cmd_value</a></li>
<li class="toc-entry toc-h3"><a href="#get_cmd_time">get_cmd_time</a></li>
<li class="toc-entry toc-h3"><a href="#get_cmd_cnt">get_cmd_cnt</a></li>
<li class="toc-entry toc-h3"><a href="#get_all_cmd_info">get_all_cmd_info</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#handling-telemetry">Handling Telemetry</a>
<ul>
<li class="toc-entry toc-h3"><a href="#check">check</a></li>
<li class="toc-entry toc-h3"><a href="#check_raw">check_raw</a></li>
<li class="toc-entry toc-h3"><a href="#check_formatted">check_formatted</a></li>
<li class="toc-entry toc-h3"><a href="#check_with_units">check_with_units</a></li>
<li class="toc-entry toc-h3"><a href="#check_tolerance">check_tolerance</a></li>
<li class="toc-entry toc-h3"><a href="#check_tolerance_raw">check_tolerance_raw</a></li>
<li class="toc-entry toc-h3"><a href="#check_expression">check_expression</a></li>
<li class="toc-entry toc-h3"><a href="#check_exception">check_exception</a></li>
<li class="toc-entry toc-h3"><a href="#tlm">tlm</a></li>
<li class="toc-entry toc-h3"><a href="#tlm_raw">tlm_raw</a></li>
<li class="toc-entry toc-h3"><a href="#tlm_formatted">tlm_formatted</a></li>
<li class="toc-entry toc-h3"><a href="#tlm_with_units">tlm_with_units</a></li>
<li class="toc-entry toc-h3"><a href="#tlm_variable">tlm_variable</a></li>
<li class="toc-entry toc-h3"><a href="#get_tlm_buffer">get_tlm_buffer</a></li>
<li class="toc-entry toc-h3"><a href="#get_tlm_packet">get_tlm_packet</a></li>
<li class="toc-entry toc-h3"><a href="#get_tlm_values-modified-in-500">get_tlm_values (modified in 5.0.0)</a></li>
<li class="toc-entry toc-h3"><a href="#get_all_telemetry-since-500">get_all_telemetry (since 5.0.0)</a></li>
<li class="toc-entry toc-h3"><a href="#get_telemetry-since-500">get_telemetry (since 5.0.0)</a></li>
<li class="toc-entry toc-h3"><a href="#get_item-since-500">get_item (since 5.0.0)</a></li>
<li class="toc-entry toc-h3"><a href="#get_tlm_cnt">get_tlm_cnt</a></li>
<li class="toc-entry toc-h3"><a href="#get_all_tlm_info">get_all_tlm_info</a></li>
<li class="toc-entry toc-h3"><a href="#set_tlm">set_tlm</a></li>
<li class="toc-entry toc-h3"><a href="#inject_tlm">inject_tlm</a></li>
<li class="toc-entry toc-h3"><a href="#override_tlm">override_tlm</a></li>
<li class="toc-entry toc-h3"><a href="#normalize_tlm">normalize_tlm</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#packet-data-subscriptions">Packet Data Subscriptions</a>
<ul>
<li class="toc-entry toc-h3"><a href="#subscribe_packets-since-500">subscribe_packets (since 5.0.0)</a></li>
<li class="toc-entry toc-h3"><a href="#get_packet-modified-in-500">get_packet (modified in 5.0.0)</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#delays">Delays</a>
<ul>
<li class="toc-entry toc-h3"><a href="#wait">wait</a></li>
<li class="toc-entry toc-h3"><a href="#wait_raw">wait_raw</a></li>
<li class="toc-entry toc-h3"><a href="#wait_tolerance">wait_tolerance</a></li>
<li class="toc-entry toc-h3"><a href="#wait_tolerance_raw">wait_tolerance_raw</a></li>
<li class="toc-entry toc-h3"><a href="#wait_expression">wait_expression</a></li>
<li class="toc-entry toc-h3"><a href="#wait_packet">wait_packet</a></li>
<li class="toc-entry toc-h3"><a href="#wait_check">wait_check</a></li>
<li class="toc-entry toc-h3"><a href="#wait_check_raw">wait_check_raw</a></li>
<li class="toc-entry toc-h3"><a href="#wait_check_tolerance">wait_check_tolerance</a></li>
<li class="toc-entry toc-h3"><a href="#wait_check_tolerance_raw">wait_check_tolerance_raw</a></li>
<li class="toc-entry toc-h3"><a href="#wait_check_expression">wait_check_expression</a></li>
<li class="toc-entry toc-h3"><a href="#wait_check_packet">wait_check_packet</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#limits">Limits</a>
<ul>
<li class="toc-entry toc-h3"><a href="#limits_enabled">limits_enabled?</a></li>
<li class="toc-entry toc-h3"><a href="#enable_limits">enable_limits</a></li>
<li class="toc-entry toc-h3"><a href="#disable_limits">disable_limits</a></li>
<li class="toc-entry toc-h3"><a href="#enable_limits_group">enable_limits_group</a></li>
<li class="toc-entry toc-h3"><a href="#disable_limits_group">disable_limits_group</a></li>
<li class="toc-entry toc-h3"><a href="#get_limits_groups">get_limits_groups</a></li>
<li class="toc-entry toc-h3"><a href="#set_limits_set">set_limits_set</a></li>
<li class="toc-entry toc-h3"><a href="#get_limits_set">get_limits_set</a></li>
<li class="toc-entry toc-h3"><a href="#get_limits_sets">get_limits_sets</a></li>
<li class="toc-entry toc-h3"><a href="#get_limits">get_limits</a></li>
<li class="toc-entry toc-h3"><a href="#set_limits">set_limits</a></li>
<li class="toc-entry toc-h3"><a href="#get_out_of_limits">get_out_of_limits</a></li>
<li class="toc-entry toc-h3"><a href="#get_overall_limits_state">get_overall_limits_state</a></li>
<li class="toc-entry toc-h3"><a href="#get_stale">get_stale</a></li>
<li class="toc-entry toc-h3"><a href="#get_limits_events">get_limits_events</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#targets">Targets</a>
<ul>
<li class="toc-entry toc-h3"><a href="#get_target_list">get_target_list</a></li>
<li class="toc-entry toc-h3"><a href="#get_target">get_target</a></li>
<li class="toc-entry toc-h3"><a href="#get_all_target_info">get_all_target_info</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#interfaces">Interfaces</a>
<ul>
<li class="toc-entry toc-h3"><a href="#connect_interface">connect_interface</a></li>
<li class="toc-entry toc-h3"><a href="#disconnect_interface">disconnect_interface</a></li>
<li class="toc-entry toc-h3"><a href="#get_interface_names">get_interface_names</a></li>
<li class="toc-entry toc-h3"><a href="#get_interface-since-500">get_interface (since 5.0.0)</a></li>
<li class="toc-entry toc-h3"><a href="#start_raw_logging_interface">start_raw_logging_interface</a></li>
<li class="toc-entry toc-h3"><a href="#stop_raw_logging_interface">stop_raw_logging_interface</a></li>
<li class="toc-entry toc-h3"><a href="#get_all_interface_info">get_all_interface_info</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#routers">Routers</a>
<ul>
<li class="toc-entry toc-h3"><a href="#connect_router">connect_router</a></li>
<li class="toc-entry toc-h3"><a href="#disconnect_router">disconnect_router</a></li>
<li class="toc-entry toc-h3"><a href="#get_router_names">get_router_names</a></li>
<li class="toc-entry toc-h3"><a href="#get_all_router_info">get_all_router_info</a></li>
<li class="toc-entry toc-h3"><a href="#start_raw_logging_router">start_raw_logging_router</a></li>
<li class="toc-entry toc-h3"><a href="#stop_raw_logging_router">stop_raw_logging_router</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#executing-other-procedures">Executing Other Procedures</a>
<ul>
<li class="toc-entry toc-h3"><a href="#start">start</a></li>
<li class="toc-entry toc-h3"><a href="#load_utility">load_utility</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#opening-closing--creating-telemetry-screens">Opening, Closing &amp; Creating Telemetry Screens</a>
<ul>
<li class="toc-entry toc-h3"><a href="#display">display</a></li>
<li class="toc-entry toc-h3"><a href="#clear">clear</a></li>
<li class="toc-entry toc-h3"><a href="#clear_all">clear_all</a></li>
<li class="toc-entry toc-h3"><a href="#get_screen_list">get_screen_list</a></li>
<li class="toc-entry toc-h3"><a href="#get_screen_definition">get_screen_definition</a></li>
<li class="toc-entry toc-h3"><a href="#local_screen">local_screen</a></li>
<li class="toc-entry toc-h3"><a href="#close_local_screens">close_local_screens</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#script-runner-specific-functionality">Script Runner Specific Functionality</a>
<ul>
<li class="toc-entry toc-h3"><a href="#set_line_delay">set_line_delay</a></li>
<li class="toc-entry toc-h3"><a href="#get_line_delay">get_line_delay</a></li>
<li class="toc-entry toc-h3"><a href="#get_scriptrunner_message_log_filename">get_scriptrunner_message_log_filename</a></li>
<li class="toc-entry toc-h3"><a href="#start_new_scriptrunner_message_log">start_new_scriptrunner_message_log</a></li>
<li class="toc-entry toc-h3"><a href="#disable_instrumentation">disable_instrumentation</a></li>
<li class="toc-entry toc-h3"><a href="#set_stdout_max_lines">set_stdout_max_lines</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#debugging">Debugging</a>
<ul>
<li class="toc-entry toc-h3"><a href="#insert_return">insert_return</a></li>
<li class="toc-entry toc-h3"><a href="#step_mode">step_mode</a></li>
<li class="toc-entry toc-h3"><a href="#run_mode">run_mode</a></li>
<li class="toc-entry toc-h3"><a href="#show_backtrace">show_backtrace</a></li>
<li class="toc-entry toc-h3"><a href="#shutdown_cmd_tlm">shutdown_cmd_tlm</a></li>
<li class="toc-entry toc-h3"><a href="#set_cmd_tlm_disconnect">set_cmd_tlm_disconnect</a></li>
<li class="toc-entry toc-h3"><a href="#get_cmd_tlm_disconnect">get_cmd_tlm_disconnect</a></li>
</ul>
</li>
</ul></div>
        
        <h1>Scripting Guide</h1>
        <p>This document provides the information necessary to write test procedures using the COSMOS scripting API. Scripting in COSMOS is designed to be simple and intuitive. The code completion ability for command and telemetry mnemonics makes Script Runner the ideal place to write your procedures, however any text editor will do. If there is functionality that you don’t see here or perhaps an easier syntax for doing something, please submit a ticket.</p>

<h2 id="concepts">
<a class="anchor" href="#concepts" aria-hidden="true"><span class="octicon octicon-link"></span></a>Concepts</h2>

<h3 id="ruby-programming-language">
<a class="anchor" href="#ruby-programming-language" aria-hidden="true"><span class="octicon octicon-link"></span></a>Ruby Programming Language</h3>

<p>COSMOS scripting is implemented using the Ruby Programming language. This should be largely transparent to the user, but if advanced processing needs to be done such as writing files, then knowledge of Ruby is necessary. Please see the Ruby Guide for more information about Ruby.</p>

<p>A basic summary of Ruby:</p>

<ol>
  <li>There is no 80 character limit on line length. Lines can be as long as you like, but be careful to not make them too long as it makes printed reviews of scripts more difficult.</li>
  <li>Variables do not have to be declared ahead of time and can be reassigned later, i.e. Ruby is dynamically typed.</li>
  <li>Variable values can be placed into strings using the “#{variable}” syntax. This is called variable interpolation.</li>
  <li>A variable declared inside of a block or loop will not exist outside of that block unless it was already declared (see Ruby’s variable scoping for more information).</li>
</ol>

<p>The Ruby programming language provides a script writer a lot of power. But with great power comes great responsibility. Remember when writing your scripts that you or someone else will come along later and need to understand them. Therefore use the following style guidelines:</p>

<ul>
  <li>Use two spaces for indentation and do NOT use tabs</li>
  <li>Constants should be all caps with underscores
    <ul>
      <li><code class="language-plaintext highlighter-rouge">SPEED_OF_LIGHT = 299792458 # meters per s</code></li>
    </ul>
  </li>
  <li>Variable names and method names should be in lowercase with underscores
    <ul>
      <li><code class="language-plaintext highlighter-rouge">last_name = "Smith"</code></li>
      <li><code class="language-plaintext highlighter-rouge">perform_setup_operation()</code></li>
    </ul>
  </li>
  <li>Class names (when used) should be camel case and the files which contain them should match but be lowercase with underscores
    <ul>
      <li><code class="language-plaintext highlighter-rouge">class DataUploader # in 'data_uploader.rb'</code></li>
      <li><code class="language-plaintext highlighter-rouge">class CcsdsUtility # in 'ccsds_utility.rb'</code></li>
    </ul>
  </li>
  <li>Don’t add useless comments but instead describe intent</li>
</ul>

<div style="clear:both;"></div>

<p>The following is an example of good style:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">######################################</span>
<span class="c1"># Title block which describes the test</span>
<span class="c1"># Author: John Doe</span>
<span class="c1"># Date: 7/27/2007</span>
<span class="c1">######################################</span>

<span class="nb">load</span> <span class="s1">'upload_utility.rb'</span> <span class="c1"># library we do NOT want to show executing</span>
<span class="n">load_utility</span> <span class="s1">'helper_utility'</span> <span class="c1"># library we do want to show executing</span>

<span class="c1"># Declare constants</span>
<span class="no">OUR_TARGETS</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'INST'</span><span class="p">,</span><span class="s1">'INST2'</span><span class="p">]</span>

<span class="c1"># Clear the collect counter of the passed in target name</span>
<span class="k">def</span> <span class="nf">clear_collects</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
  <span class="n">cmd</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">target</span><span class="si">}</span><span class="s2"> CLEAR"</span><span class="p">)</span>
  <span class="n">wait_check</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">target</span><span class="si">}</span><span class="s2"> HEALTH_STATUS COLLECTS == 0"</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="k">end</span>

<span class="c1">######################################</span>
<span class="c1"># START</span>
<span class="c1">######################################</span>
<span class="n">helper</span> <span class="o">=</span> <span class="no">HelperUtility</span><span class="p">.</span><span class="nf">new</span>
<span class="n">helper</span><span class="p">.</span><span class="nf">setup</span>

<span class="c1"># Perform collects on all the targets</span>
<span class="no">OUR_TARGETS</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">target</span><span class="o">|</span>
  <span class="n">collects</span> <span class="o">=</span> <span class="n">tlm</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">target</span><span class="si">}</span><span class="s2"> HEALTH_STATUS COLLECTS"</span><span class="p">)</span>
  <span class="n">cmd</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">target</span><span class="si">}</span><span class="s2"> COLLECT with TYPE SPECIAL"</span><span class="p">)</span>
  <span class="n">wait_check</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">target</span><span class="si">}</span><span class="s2"> HEALTH_STATUS COLLECTS == </span><span class="si">#{</span><span class="n">collects</span> <span class="o">+</span> <span class="mi">1</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="k">end</span>

<span class="n">clear_collects</span><span class="p">(</span><span class="s1">'INST'</span><span class="p">)</span>
<span class="n">clear_collects</span><span class="p">(</span><span class="s1">'INST2'</span><span class="p">)</span>
</code></pre></div></div>

<p>This example shows several features of COSMOS scripting in action. Notice the difference between ‘load’ and ‘load<em>utility’. The first is to load additional scripts which will NOT be shown in Script Runner when executing. This is a good place to put code which takes a long time to run such as image analysis or other looping code where you just want the output. ‘load_utility’ will visually execute the code line by line to show the user what is happening. Read <a href="/news/2017/11/13/require_vs_load/">Require vs Load</a> for _much</em> more information.</p>

<p>Next we declare our constants and create an array of strings which we store in OUR_TARGETS. Notice the constant is all uppercase with underscores.</p>

<p>Then we declare our local methods of which we have one called clear_collects. Please provide a comment at the beginning of each method describing what it does and the parameters that it takes.</p>

<p>The ‘helper_utility’ is then created by HelperUtility.new. Note the similarity in the class name and the file name we loaded.</p>

<p>The collect example shows how you can iterate over the array of strings we previously created and use variables when commanding and checking telemetry. The pound bracket #{} notation puts whatever the variable holds inside the #{} into the string. You can even execute additional code inside the #{} like we do when checking for the collect count to increment.</p>

<p>Finally we call our clear_collects method on each target by passing the target name. You’ll notice there we used single quotes instead of double quotes. The only difference is that double quotes allow for the #{} syntax and support escape characters like newlines (\n) while single quotes do not. Otherwise it’s just a personal style preference.</p>

<h3 id="telemetry-types">
<a class="anchor" href="#telemetry-types" aria-hidden="true"><span class="octicon octicon-link"></span></a>Telemetry Types</h3>

<p>There are four different ways that telemetry values can be retrieved in COSMOS. The following chart explains their differences.</p>

<table>
  <thead>
    <tr>
      <th>Telemetry Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Raw</td>
      <td>Raw telemetry is exactly as it is in the telemetry packet before any conversions. All telemetry items will have a raw value except for Derived telemetry points which have no real location in a packet. Requesting raw telemetry on a derived item will return nil.</td>
    </tr>
    <tr>
      <td>Converted</td>
      <td>Converted telemetry is raw telemetry that has gone through a conversion factor such as a state conversion or a polynomial conversion. If a telemetry item does not have a conversion defined, then converted telemetry will be the same as raw telemetry. This is the most common type of telemety used in scripts.</td>
    </tr>
    <tr>
      <td>Formatted</td>
      <td>Formatted telemetry is converted telemetry that has gone through a printf style conversion into a string. Formatted telemetry will always have a string representation. If no format string is defined for a telemetry point, then formatted telemetry will be the same as converted telemetry except represented as string.</td>
    </tr>
    <tr>
      <td>Formatted with Units</td>
      <td>Formatted with Units telemetry is the same as Formatted telemetry except that a space and the units of the telemetry item are appended to the end of the string. If no units are defined for a telemetry item then this type is the same as Formatted telemetry.</td>
    </tr>
  </tbody>
</table>

<h2 id="writing-test-procedures">
<a class="anchor" href="#writing-test-procedures" aria-hidden="true"><span class="octicon octicon-link"></span></a>Writing Test Procedures</h2>

<h3 id="using-subroutines">
<a class="anchor" href="#using-subroutines" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using Subroutines</h3>

<p>Subroutines in COSMOS scripting are first class citizens. They can allow you to perform repetitive tasks without copying the same code multiple times and in multiple different test procedures. This reduces errors and makes your test procedures more maintainable. For example, if multiple test procedures need to turn on a power supply and check telemetry, they can both use a common subroutine. If a change needs to be made to how the power supply is turned on, then it only has to be done in one location and all test procedures reap the benefits. No need to worry about forgetting to update one. Additionally using subroutines allows your high level procedure to read very cleanly and makes it easier for others to review. See the Subroutine Example example.</p>

<h2 id="example-test-procedures">
<a class="anchor" href="#example-test-procedures" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example Test Procedures</h2>

<h3 id="subroutines">
<a class="anchor" href="#subroutines" aria-hidden="true"><span class="octicon octicon-link"></span></a>Subroutines</h3>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># My Utility Procedure: program_utilities.rb</span>
<span class="c1"># Author: Bob</span>

<span class="c1">#################################################################</span>
<span class="c1"># Define helpful subroutines useful by multiple test procedures</span>
<span class="c1">#################################################################</span>

<span class="c1"># This subroutine will put the instrument into safe mode</span>
<span class="k">def</span> <span class="nf">goto_safe_mode</span>
  <span class="n">cmd</span><span class="p">(</span><span class="s2">"INST SAFE"</span><span class="p">)</span>
  <span class="n">wait_check</span><span class="p">(</span><span class="s2">"INST SOH MODE == 'SAFE'"</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
  <span class="n">check</span><span class="p">(</span><span class="s2">"INST SOH VOLTS1 &lt; 1.0"</span><span class="p">)</span>
  <span class="n">check</span><span class="p">(</span><span class="s2">"INST SOH TEMP1 &gt; 20.0"</span><span class="p">)</span>
  <span class="nb">puts</span><span class="p">(</span><span class="s2">"The instrument is in SAFE mode"</span><span class="p">)</span>
<span class="k">end</span>

<span class="c1"># This subroutine will put the instrument into run mode</span>
<span class="k">def</span> <span class="nf">goto_run_mode</span>
  <span class="n">cmd</span><span class="p">(</span><span class="s2">"INST RUN"</span><span class="p">)</span>
  <span class="n">wait_check</span><span class="p">(</span><span class="s2">"INST SOH MODE == 'RUN'"</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
  <span class="n">check</span><span class="p">(</span><span class="s2">"INST SOH VOLTS1 &gt; 27.0"</span><span class="p">)</span>
  <span class="n">check</span><span class="p">(</span><span class="s2">"INST SOH TEMP1 &gt; 20.0"</span><span class="p">)</span>
  <span class="nb">puts</span><span class="p">(</span><span class="s2">"The instrument is in RUN mode"</span><span class="p">)</span>
<span class="k">end</span>

<span class="c1"># This subroutine will turn on the power supply</span>
<span class="k">def</span> <span class="nf">turn_on_power</span>
  <span class="n">cmd</span><span class="p">(</span><span class="s2">"GSE POWERON"</span><span class="p">)</span>
  <span class="n">wait_check</span><span class="p">(</span><span class="s2">"GSE SOH VOLTAGE &gt; 27.0"</span><span class="p">)</span>
  <span class="n">check</span><span class="p">(</span><span class="s2">"GSE SOH CURRENT &lt; 2.0"</span><span class="p">)</span>
  <span class="nb">puts</span><span class="p">(</span><span class="s2">"WARNING: Power supply is ON!"</span><span class="p">)</span>
<span class="k">end</span>

<span class="c1"># This subroutine will turn off the power supply</span>
<span class="k">def</span> <span class="nf">turn_off_power</span>
  <span class="n">cmd</span><span class="p">(</span><span class="s2">"GSE POWEROFF"</span><span class="p">)</span>
  <span class="n">wait_check</span><span class="p">(</span><span class="s2">"GSE SOH VOLTAGE &lt; 1.0"</span><span class="p">)</span>
  <span class="n">check</span><span class="p">(</span><span class="s2">"GSE SOH CURRENT &lt; 0.1"</span><span class="p">)</span>
  <span class="nb">puts</span><span class="p">(</span><span class="s2">"Power supply is OFF"</span><span class="p">)</span>
<span class="k">end</span>
</code></pre></div></div>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># My Test Procedure: run_instrument.rb</span>
<span class="c1"># Author: Larry</span>

<span class="n">load_utility</span><span class="p">(</span><span class="s2">"program_utilities.rb"</span><span class="p">)</span>

<span class="n">turn_on_power</span><span class="p">()</span>
<span class="n">goto_run_mode</span><span class="p">()</span>

<span class="c1"># Perform unique tests here</span>

<span class="n">goto_safe_mode</span><span class="p">()</span>
<span class="n">turn_off_power</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="ruby-control-structures">
<a class="anchor" href="#ruby-control-structures" aria-hidden="true"><span class="octicon octicon-link"></span></a>Ruby Control Structures</h3>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#if, elsif, else structure</span>

<span class="n">x</span> <span class="o">=</span> <span class="mi">3</span>

<span class="k">if</span> <span class="n">tlm</span><span class="p">(</span><span class="s2">"INST HEALTH_STATUS COLLECTS"</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">5</span>
  <span class="nb">puts</span> <span class="s2">"More than 5 collects!"</span>
<span class="k">elsif</span> <span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="mi">4</span><span class="p">)</span>
  <span class="nb">puts</span> <span class="s2">"variable equals 4!"</span>
<span class="k">else</span>
  <span class="nb">puts</span> <span class="s2">"Nothing interesting going on"</span>
<span class="k">end</span>

<span class="c1"># Endless loop and single-line if</span>

<span class="kp">loop</span> <span class="k">do</span>
  <span class="k">break</span> <span class="k">if</span> <span class="n">tlm</span><span class="p">(</span><span class="s2">"INST HEALTH_STATUS TEMP1"</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">25.0</span>
  <span class="n">wait</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="k">end</span>

<span class="c1"># Do something a given number of times</span>

<span class="mi">5</span><span class="p">.</span><span class="nf">times</span> <span class="k">do</span>
  <span class="n">cmd</span><span class="p">(</span><span class="s2">"INST COLLECT"</span><span class="p">)</span>
<span class="k">end</span>
</code></pre></div></div>

<h3 id="iterating-over-similarly-named-telemetry-points">
<a class="anchor" href="#iterating-over-similarly-named-telemetry-points" aria-hidden="true"><span class="octicon octicon-link"></span></a>Iterating over similarly named telemetry points</h3>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># This block of code goes through the range of numbers 1 through 4 (1..4)</span>
<span class="c1"># and checks telemetry items TEMP1, TEMP2, TEMP3, and TEMP4</span>

<span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">4</span><span class="p">).</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">num</span><span class="o">|</span>
  <span class="n">check</span><span class="p">(</span><span class="s2">"INST HEALTH_STATUS TEMP</span><span class="si">#{</span><span class="n">num</span><span class="si">}</span><span class="s2"> &gt; 25.0"</span><span class="p">)</span>
<span class="k">end</span>

<span class="c1"># You could also do</span>
<span class="n">num</span> <span class="o">=</span> <span class="mi">1</span>
<span class="mi">4</span><span class="p">.</span><span class="nf">times</span> <span class="k">do</span>
  <span class="n">check</span><span class="p">(</span><span class="s2">"INST HEALTH_STATUS TEMP</span><span class="si">#{</span><span class="n">num</span><span class="si">}</span><span class="s2"> &gt; 25.0"</span><span class="p">)</span>
  <span class="n">num</span> <span class="o">=</span> <span class="n">num</span> <span class="o">+</span> <span class="mi">1</span>
<span class="k">end</span>
</code></pre></div></div>

<h3 id="prompting-for-user-input">
<a class="anchor" href="#prompting-for-user-input" aria-hidden="true"><span class="octicon octicon-link"></span></a>Prompting for User Input</h3>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">numloops</span> <span class="o">=</span> <span class="n">ask</span><span class="p">(</span><span class="s2">"Please enter the number of times to loop"</span><span class="p">)</span>

<span class="n">numloops</span><span class="p">.</span><span class="nf">times</span> <span class="k">do</span>
  <span class="nb">puts</span> <span class="s2">"Looping"</span>
<span class="k">end</span>
</code></pre></div></div>

<h3 id="skipping-a-test-case-in-testrunner">
<a class="anchor" href="#skipping-a-test-case-in-testrunner" aria-hidden="true"><span class="octicon octicon-link"></span></a>Skipping a test case in TestRunner</h3>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">test_feature_x</span>
  <span class="n">continue</span> <span class="o">=</span> <span class="n">ask</span><span class="p">(</span><span class="s2">"Test feature x?"</span><span class="p">)</span>

  <span class="k">if</span> <span class="n">continue</span> <span class="o">==</span> <span class="s1">'y'</span>
    <span class="c1"># Test goes here</span>
  <span class="k">else</span>
    <span class="k">raise</span> <span class="no">SkipTestCase</span><span class="p">,</span> <span class="s2">"Skipping feature x test"</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<h2 id="running-test-procedures">
<a class="anchor" href="#running-test-procedures" aria-hidden="true"><span class="octicon octicon-link"></span></a>Running Test Procedures</h2>

<h2 id="execution-environment">
<a class="anchor" href="#execution-environment" aria-hidden="true"><span class="octicon octicon-link"></span></a>Execution Environment</h2>

<h3 id="using-script-runner">
<a class="anchor" href="#using-script-runner" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using Script Runner</h3>

<p>Script Runner is a graphical application that provides the ideal environment for running and implementing your test procedures. The Script Runner tool is broken into 4 main sections. At the top of the tool is a menu bar that allows you to do such things as open and save files, perform a syntax check, and execute your script.</p>

<p>Next is a tool bar that displays the currently executing script and three buttons, “Start/Go”, “Pause/Retry”, and “Stop”. The Start/Go button is used to start the script and continue past errors or waits. The Pause/Retry button will pause the executing script. If an error is encountered the Pause button changes to Retry to re-execute the errored line. Finally, the Stop button will stop the executing script at any time.</p>

<p>Third is the display of the actual script. While the script is not running, you may edit and compose scripts in this area. A handy code completion feature is provided that will list out the available commands or telemetry points as you are writing your script. Simply begin writing a cmd( or tlm( line to bring up code completion. This feature greatly reduces typos in command and telemetry mnemonics.</p>

<div class="note unreleased">
  <p>Code Completion not yet implemented in COSMOS 5</p>
</div>

<p>Finally, displayed is the log messages. All commands that are sent, errors that occur, and user puts statements appear in this area.</p>

<h2 id="test-procedure-api">
<a class="anchor" href="#test-procedure-api" aria-hidden="true"><span class="octicon octicon-link"></span></a>Test Procedure API</h2>

<p>The following methods are designed to be used in test procedures. However, they can also be used in custom built COSMOS tools. Please see the COSMOS Tool API section for methods that are more efficient to use in custom tools.</p>

<h2 id="retrieving-user-input">
<a class="anchor" href="#retrieving-user-input" aria-hidden="true"><span class="octicon octicon-link"></span></a>Retrieving User Input</h2>

<p>These methods allow the user to enter values that are needed by the script.</p>

<h3 id="ask">
<a class="anchor" href="#ask" aria-hidden="true"><span class="octicon octicon-link"></span></a>ask</h3>

<p>The ask method prompts the user for input with a question. User input is automatically converted from a string to the appropriate data type. For example if the user enters “1”, the number 1 as an integer will be returned.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ask</span><span class="p">(</span><span class="s2">"&lt;question&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>question</td>
      <td>Question to prompt the user with.</td>
    </tr>
    <tr>
      <td>blank_or_default</td>
      <td>Whether or not to allow empty responses (optional - defaults to false). If a non-boolean value is passed it is used as a default value.</td>
    </tr>
    <tr>
      <td>password</td>
      <td>Whether to treat the entry as a password which is displayed with dots and not logged.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">value</span> <span class="o">=</span> <span class="n">ask</span><span class="p">(</span><span class="s2">"Enter an integer"</span><span class="p">)</span>
<span class="n">value</span> <span class="o">=</span> <span class="n">ask</span><span class="p">(</span><span class="s2">"Enter a value or nothing"</span><span class="p">,</span> <span class="kp">true</span><span class="p">)</span>
<span class="n">value</span> <span class="o">=</span> <span class="n">ask</span><span class="p">(</span><span class="s2">"Enter a value"</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">password</span> <span class="o">=</span> <span class="n">ask</span><span class="p">(</span><span class="s2">"Enter your password"</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="kp">true</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="ask_string">
<a class="anchor" href="#ask_string" aria-hidden="true"><span class="octicon octicon-link"></span></a>ask_string</h3>

<p>The ask_string method prompts the user for input with a question. User input is always returned as a string. For exampe if the user enters “1”, the string “1” will be returned.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ask_string</span><span class="p">(</span><span class="s2">"&lt;question&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>question</td>
      <td>Question to prompt the user with.</td>
    </tr>
    <tr>
      <td>blank_or_default</td>
      <td>Whether or not to allow empty responses (optional - defaults to false). If a non-boolean value is passed it is used as a default value.</td>
    </tr>
    <tr>
      <td>password</td>
      <td>Whether to treat the entry as a password which is displayed with dots and not logged.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">string</span> <span class="o">=</span> <span class="n">ask_string</span><span class="p">(</span><span class="s2">"Enter a String"</span><span class="p">)</span>
<span class="n">string</span> <span class="o">=</span> <span class="n">ask_string</span><span class="p">(</span><span class="s2">"Enter a value or nothing"</span><span class="p">,</span> <span class="kp">true</span><span class="p">)</span>
<span class="n">string</span> <span class="o">=</span> <span class="n">ask_string</span><span class="p">(</span><span class="s2">"Enter a value"</span><span class="p">,</span> <span class="s2">"test"</span><span class="p">)</span>
<span class="n">password</span> <span class="o">=</span> <span class="n">ask_string</span><span class="p">(</span><span class="s2">"Enter your password"</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="kp">true</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="message_box">
<a class="anchor" href="#message_box" aria-hidden="true"><span class="octicon octicon-link"></span></a>message_box</h3>

<h3 id="vertical_message_box">
<a class="anchor" href="#vertical_message_box" aria-hidden="true"><span class="octicon octicon-link"></span></a>vertical_message_box</h3>

<h3 id="combo_box">
<a class="anchor" href="#combo_box" aria-hidden="true"><span class="octicon octicon-link"></span></a>combo_box</h3>

<p>The message_box, vertical_message_box, and combo_box methods create a message box with arbitrary buttons or selections that the user can click. The text of the button clicked is returned.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">message_box</span><span class="p">(</span><span class="s2">"&lt;message&gt;"</span><span class="p">,</span> <span class="s2">"&lt;button text 1&gt;"</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
<span class="n">vertical_message_box</span><span class="p">(</span><span class="s2">"&lt;message&gt;"</span><span class="p">,</span> <span class="s2">"&lt;button text 1&gt;"</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
<span class="n">combo_box</span><span class="p">(</span><span class="s2">"&lt;message&gt;"</span><span class="p">,</span> <span class="s2">"&lt;selection text 1&gt;"</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>message</td>
      <td>Message to prompt the user with.</td>
    </tr>
    <tr>
      <td>button/selection text</td>
      <td>Text for a button or selection</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">value</span> <span class="o">=</span> <span class="n">message_box</span><span class="p">(</span><span class="s2">"Select the sensor number"</span><span class="p">,</span> <span class="s1">'One'</span><span class="p">,</span> <span class="s1">'Two'</span><span class="p">)</span>
<span class="n">value</span> <span class="o">=</span> <span class="n">vertical_message_box</span><span class="p">(</span><span class="s2">"Select the sensor number"</span><span class="p">,</span> <span class="s1">'One'</span><span class="p">,</span> <span class="s1">'Two'</span><span class="p">)</span>
<span class="n">value</span> <span class="o">=</span> <span class="n">combo_box</span><span class="p">(</span><span class="s2">"Select the sensor number"</span><span class="p">,</span> <span class="s1">'One'</span><span class="p">,</span> <span class="s1">'Two'</span><span class="p">)</span>
<span class="k">case</span> <span class="n">value</span>
<span class="k">when</span> <span class="s1">'One'</span>
  <span class="nb">puts</span> <span class="s1">'Sensor One'</span>
<span class="k">when</span> <span class="s1">'Two'</span>
  <span class="nb">puts</span> <span class="s1">'Sensor Two'</span>
<span class="k">end</span>
</code></pre></div></div>

<h2 id="providing-information-to-the-user">
<a class="anchor" href="#providing-information-to-the-user" aria-hidden="true"><span class="octicon octicon-link"></span></a>Providing information to the user</h2>

<p>These methods notify the user that something has occurred.</p>

<h3 id="prompt">
<a class="anchor" href="#prompt" aria-hidden="true"><span class="octicon octicon-link"></span></a>prompt</h3>

<p>The prompt method displays a message to the user and waits for them to press an ok button.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">prompt</span><span class="p">(</span><span class="s2">"&lt;message&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>message</td>
      <td>Message to prompt the user with.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">prompt</span><span class="p">(</span><span class="s2">"Press OK to continue"</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="commands">
<a class="anchor" href="#commands" aria-hidden="true"><span class="octicon octicon-link"></span></a>Commands</h2>

<p>These methods provide capability to send commands to a target and receive information about commands in the system.</p>

<h3 id="cmd">
<a class="anchor" href="#cmd" aria-hidden="true"><span class="octicon octicon-link"></span></a>cmd</h3>

<p>The cmd method sends a specified command.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cmd</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt; &lt;Command Name&gt; with &lt;Param #1 Name&gt; &lt;Param #1 Value&gt;, &lt;Param #2 Name&gt; &lt;Param #2 Value&gt;, ..."</span><span class="p">)</span>
<span class="n">cmd</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt;"</span><span class="p">,</span> <span class="s2">"&lt;Command Name&gt;"</span><span class="p">,</span> <span class="s2">"Param #1 Name"</span> <span class="o">=&gt;</span> <span class="o">&lt;</span><span class="no">Param</span> <span class="c1">#1 Value&gt;, "Param #2 Name" =&gt; &lt;Param #2 Value&gt;, ...)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target this command is associated with.</td>
    </tr>
    <tr>
      <td>Command Name</td>
      <td>Name of this command. Also referred to as its mnemonic.</td>
    </tr>
    <tr>
      <td>Param #x Name</td>
      <td>Name of a command parameter. If there are no parameters then the ‘with’ keyword should not be given.</td>
    </tr>
    <tr>
      <td>Param #x Value</td>
      <td>Value of the command parameter. Values are automatically converted to the appropriate type.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cmd</span><span class="p">(</span><span class="s2">"INST COLLECT with DURATION 10, TYPE NORMAL"</span><span class="p">)</span>
<span class="n">cmd</span><span class="p">(</span><span class="s2">"INST"</span><span class="p">,</span> <span class="s2">"COLLECT"</span><span class="p">,</span> <span class="s2">"DURATION"</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">"TYPE"</span> <span class="o">=&gt;</span> <span class="s2">"NORMAL"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="cmd_no_range_check">
<a class="anchor" href="#cmd_no_range_check" aria-hidden="true"><span class="octicon octicon-link"></span></a>cmd_no_range_check</h3>

<p>The cmd_no_range_check method sends a specified command without performing range checking on its parameters. This should only be used when it is necessary to intentionally send a bad command parameter to test a target.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cmd_no_range_check</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt; &lt;Command Name&gt; with &lt;Param #1 Name&gt; &lt;Param #1 Value&gt;, &lt;Param #2 Name&gt; &lt;Param #2 Value&gt;, ..."</span><span class="p">)</span>
<span class="n">cmd_no_range_check</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt;"</span><span class="p">,</span> <span class="s2">"&lt;Command Name&gt;"</span><span class="p">,</span> <span class="s2">"Param #1 Name"</span> <span class="o">=&gt;</span> <span class="o">&lt;</span><span class="no">Param</span> <span class="c1">#1 Value&gt;, "Param #2 Name" =&gt; &lt;Param #2 Value&gt;, ...)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target this command is associated with.</td>
    </tr>
    <tr>
      <td>Command Name</td>
      <td>Name of this command. Also referred to as its mnemonic.</td>
    </tr>
    <tr>
      <td>Param #x Name</td>
      <td>Name of a command parameter. If there are no parameters then the ‘with’ keyword should not be given.</td>
    </tr>
    <tr>
      <td>Param #x Value</td>
      <td>Value of the command parameter. Values are automatically converted to the appropriate type.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cmd_no_range_check</span><span class="p">(</span><span class="s2">"INST COLLECT with DURATION 11, TYPE NORMAL"</span><span class="p">)</span>
<span class="n">cmd_no_range_check</span><span class="p">(</span><span class="s2">"INST"</span><span class="p">,</span> <span class="s2">"COLLECT"</span><span class="p">,</span> <span class="s2">"DURATION"</span> <span class="o">=&gt;</span> <span class="mi">11</span><span class="p">,</span> <span class="s2">"TYPE"</span> <span class="o">=&gt;</span> <span class="s2">"NORMAL"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="cmd_no_hazardous_check">
<a class="anchor" href="#cmd_no_hazardous_check" aria-hidden="true"><span class="octicon octicon-link"></span></a>cmd_no_hazardous_check</h3>

<p>The cmd_no_hazardous_check method sends a specified command without performing the notification if it is a hazardous command. This should only be used when it is necessary to fully automate testing involving hazardous commands.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cmd_no_hazardous_check</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt; &lt;Command Name&gt; with &lt;Param #1 Name&gt; &lt;Param #1 Value&gt;, &lt;Param #2 Name&gt; &lt;Param #2 Value&gt;, ..."</span><span class="p">)</span>
<span class="n">cmd_no_hazardous_check</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt;"</span><span class="p">,</span> <span class="s2">"&lt;Command Name&gt;"</span><span class="p">,</span> <span class="s2">"Param #1 Name"</span> <span class="o">=&gt;</span> <span class="o">&lt;</span><span class="no">Param</span> <span class="c1">#1 Value&gt;, "Param #2 Name" =&gt; &lt;Param #2 Value&gt;, ...)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target this command is associated with.</td>
    </tr>
    <tr>
      <td>Command Name</td>
      <td>Name of this command. Also referred to as its mnemonic.</td>
    </tr>
    <tr>
      <td>Param #x Name</td>
      <td>Name of a command parameter. If there are no parameters then the ‘with’ keyword should not be given.</td>
    </tr>
    <tr>
      <td>Param #x Value</td>
      <td>Value of the command parameter. Values are automatically converted to the appropriate type.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cmd_no_hazardous_check</span><span class="p">(</span><span class="s2">"INST CLEAR"</span><span class="p">)</span>
<span class="n">cmd_no_hazardous_check</span><span class="p">(</span><span class="s2">"INST"</span><span class="p">,</span> <span class="s2">"CLEAR"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="cmd_no_checks">
<a class="anchor" href="#cmd_no_checks" aria-hidden="true"><span class="octicon octicon-link"></span></a>cmd_no_checks</h3>

<p>The cmd_no_checks method sends a specified command without performing the parameter range checks or notification if it is a hazardous command. This should only be used when it is necessary to fully automate testing involving hazardous commands that intentially have invalid parameters.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cmd_no_checks</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt; &lt;Command Name&gt; with &lt;Param #1 Name&gt; &lt;Param #1 Value&gt;, &lt;Param #2 Name&gt; &lt;Param #2 Value&gt;, ..."</span><span class="p">)</span>
<span class="n">cmd_no_checks</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt;"</span><span class="p">,</span> <span class="s2">"&lt;Command Name&gt;"</span><span class="p">,</span> <span class="s2">"Param #1 Name"</span> <span class="o">=&gt;</span> <span class="o">&lt;</span><span class="no">Param</span> <span class="c1">#1 Value&gt;, "Param #2 Name" =&gt; &lt;Param #2 Value&gt;, ...)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target this command is associated with.</td>
    </tr>
    <tr>
      <td>Command Name</td>
      <td>Name of this command. Also referred to as its mnemonic.</td>
    </tr>
    <tr>
      <td>Param #x Name</td>
      <td>Name of a command parameter. If there are no parameters then the ‘with’ keyword should not be given.</td>
    </tr>
    <tr>
      <td>Param #x Value</td>
      <td>Value of the command parameter. Values are automatically converted to the appropriate type.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cmd_no_checks</span><span class="p">(</span><span class="s2">"INST COLLECT with DURATION 11, TYPE SPECIAL"</span><span class="p">)</span>
<span class="n">cmd_no_checks</span><span class="p">(</span><span class="s2">"INST"</span><span class="p">,</span> <span class="s2">"COLLECT"</span><span class="p">,</span> <span class="s2">"DURATION"</span> <span class="o">=&gt;</span> <span class="mi">11</span><span class="p">,</span> <span class="s2">"TYPE"</span> <span class="o">=&gt;</span> <span class="s2">"SPECIAL"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="cmd_raw">
<a class="anchor" href="#cmd_raw" aria-hidden="true"><span class="octicon octicon-link"></span></a>cmd_raw</h3>

<p>The cmd_raw method sends a specified command without running conversions.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cmd_raw</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt; &lt;Command Name&gt; with &lt;Param #1 Name&gt; &lt;Param #1 Value&gt;, &lt;Param #2 Name&gt; &lt;Param #2 Value&gt;, ..."</span><span class="p">)</span>
<span class="n">cmd_raw</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt;"</span><span class="p">,</span> <span class="s2">"&lt;Command Name&gt;"</span><span class="p">,</span> <span class="s2">"&lt;Param #1 Name&gt;"</span> <span class="o">=&gt;</span> <span class="o">&lt;</span><span class="no">Param</span> <span class="c1">#1 Value&gt;, "&lt;Param #2 Name&gt;" =&gt; &lt;Param #2 Value&gt;, ...)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target this command is associated with.</td>
    </tr>
    <tr>
      <td>Command Name</td>
      <td>Name of this command. Also referred to as its mnemonic.</td>
    </tr>
    <tr>
      <td>Param #x Name</td>
      <td>Name of a command parameter. If there are no parameters then the ‘with’ keyword should not be given.</td>
    </tr>
    <tr>
      <td>Param #x Value</td>
      <td>Value of the command parameter. Values are automatically converted to the appropriate type.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cmd_raw</span><span class="p">(</span><span class="s2">"INST COLLECT with DURATION 10, TYPE 0"</span><span class="p">)</span>
<span class="n">cmd_raw</span><span class="p">(</span><span class="s2">"INST"</span><span class="p">,</span> <span class="s2">"COLLECT"</span><span class="p">,</span> <span class="s2">"DURATION"</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span> <span class="no">TYPE</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="cmd_raw_no_range_check">
<a class="anchor" href="#cmd_raw_no_range_check" aria-hidden="true"><span class="octicon octicon-link"></span></a>cmd_raw_no_range_check</h3>

<p>The cmd_raw_no_range_check method sends a specified command without running conversions or performing range checking on its parameters. This should only be used when it is necessary to intentionally send a bad command parameter to test a target.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cmd_raw_no_range_check</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt; &lt;Command Name&gt; with &lt;Param #1 Name&gt; &lt;Param #1 Value&gt;, &lt;Param #2 Name&gt; &lt;Param #2 Value&gt;, ..."</span><span class="p">)</span>
<span class="n">cmd_raw_no_range_check</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt;"</span><span class="p">,</span> <span class="s2">"&lt;Command Name&gt;"</span><span class="p">,</span> <span class="s2">"&lt;Param #1 Name&gt;"</span> <span class="o">=&gt;</span> <span class="o">&lt;</span><span class="no">Param</span> <span class="c1">#1 Value&gt;, "&lt;Param #2 Name&gt;" =&gt; &lt;Param #2 Value&gt;, ...)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target this command is associated with.</td>
    </tr>
    <tr>
      <td>Command Name</td>
      <td>Name of this command. Also referred to as its mnemonic.</td>
    </tr>
    <tr>
      <td>Param #x Name</td>
      <td>Name of a command parameter. If there are no parameters then the ‘with’ keyword should not be given.</td>
    </tr>
    <tr>
      <td>Param #x Value</td>
      <td>Value of the command parameter. Values are automatically converted to the appropriate type.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cmd_raw_no_range_check</span><span class="p">(</span><span class="s2">"INST COLLECT with DURATION 11, TYPE 0"</span><span class="p">)</span>
<span class="n">cmd_raw_no_range_check</span><span class="p">(</span><span class="s2">"INST"</span><span class="p">,</span> <span class="s2">"COLLECT"</span><span class="p">,</span> <span class="s2">"DURATION"</span> <span class="o">=&gt;</span> <span class="mi">11</span><span class="p">,</span> <span class="s2">"TYPE"</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="cmd_raw_no_hazardous_check">
<a class="anchor" href="#cmd_raw_no_hazardous_check" aria-hidden="true"><span class="octicon octicon-link"></span></a>cmd_raw_no_hazardous_check</h3>

<p>The cmd_raw_no_hazardous_check method sends a specified command without running conversions or performing the notification if it is a hazardous command. This should only be used when it is necessary to fully automate testing involving hazardous commands.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cmd_raw_no_hazardous_check</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt; &lt;Command Name&gt; with &lt;Param #1 Name&gt; &lt;Param #1 Value&gt;, &lt;Param #2 Name&gt; &lt;Param #2 Value&gt;, ..."</span><span class="p">)</span>
<span class="n">cmd_raw_no_hazardous_check</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt;"</span><span class="p">,</span> <span class="s2">"&lt;Command Name&gt;"</span><span class="p">,</span> <span class="s2">"&lt;Param #1 Name&gt;"</span> <span class="o">=&gt;</span> <span class="o">&lt;</span><span class="no">Param</span> <span class="c1">#1 Value&gt;, "&lt;Param #2 Name&gt;" =&gt; &lt;Param #2 Value&gt;, ...)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target this command is associated with.</td>
    </tr>
    <tr>
      <td>Command Name</td>
      <td>Name of this command. Also referred to as its mnemonic.</td>
    </tr>
    <tr>
      <td>Param #x Name</td>
      <td>Name of a command parameter. If there are no parameters then the ‘with’ keyword should not be given.</td>
    </tr>
    <tr>
      <td>Param #x Value</td>
      <td>Value of the command parameter. Values are automatically converted to the appropriate type.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cmd_raw_no_hazardous_check</span><span class="p">(</span><span class="s2">"INST CLEAR"</span><span class="p">)</span>
<span class="n">cmd_raw_no_hazardous_check</span><span class="p">(</span><span class="s2">"INST"</span><span class="p">,</span> <span class="s2">"CLEAR"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="cmd_raw_no_checks">
<a class="anchor" href="#cmd_raw_no_checks" aria-hidden="true"><span class="octicon octicon-link"></span></a>cmd_raw_no_checks</h3>

<p>The cmd_raw_no_checks method sends a specified command without running conversions or performing the parameter range checks or notification if it is a hazardous command. This should only be used when it is necessary to fully automate testing involving hazardous commands that intentially have invalid parameters.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cmd_raw_no_checks</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt; &lt;Command Name&gt; with &lt;Param #1 Name&gt; &lt;Param #1 Value&gt;, &lt;Param #2 Name&gt; &lt;Param #2 Value&gt;, ..."</span><span class="p">)</span>
<span class="n">cmd_raw_no_checks</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt;"</span><span class="p">,</span> <span class="s2">"&lt;Command Name&gt;"</span><span class="p">,</span> <span class="s2">"&lt;Param #1 Name&gt;"</span> <span class="o">=&gt;</span> <span class="o">&lt;</span><span class="no">Param</span> <span class="c1">#1 Value&gt;, "&lt;Param #2 Name&gt;" =&gt; &lt;Param #2 Value&gt;, ...)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target this command is associated with.</td>
    </tr>
    <tr>
      <td>Command Name</td>
      <td>Name of this command. Also referred to as its mnemonic.</td>
    </tr>
    <tr>
      <td>Param #x Name</td>
      <td>Name of a command parameter. If there are no parameters then the ‘with’ keyword should not be given.</td>
    </tr>
    <tr>
      <td>Param #x Value</td>
      <td>Value of the command parameter. Values are automatically converted to the appropriate type.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cmd_raw_no_checks</span><span class="p">(</span><span class="s2">"INST COLLECT with DURATION 11, TYPE 1"</span><span class="p">)</span>
<span class="n">cmd_raw_no_checks</span><span class="p">(</span><span class="s2">"INST"</span><span class="p">,</span> <span class="s2">"COLLECT"</span><span class="p">,</span> <span class="s2">"DURATION"</span> <span class="o">=&gt;</span> <span class="mi">11</span><span class="p">,</span> <span class="s2">"TYPE"</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="send_raw">
<a class="anchor" href="#send_raw" aria-hidden="true"><span class="octicon octicon-link"></span></a>send_raw</h3>

<p>The send_raw method sends raw data on an interface.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">send_raw</span><span class="p">(</span><span class="o">&lt;</span><span class="no">Interface</span> <span class="no">Name</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">data</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Interface Name</td>
      <td>Name of the interface to send the raw data on.</td>
    </tr>
    <tr>
      <td>Data</td>
      <td>Raw ruby string of data to send.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">send_raw</span><span class="p">(</span><span class="s2">"INST_INT"</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="get_all_commands-since-500">
<a class="anchor" href="#get_all_commands-since-500" aria-hidden="true"><span class="octicon octicon-link"></span></a>get_all_commands (since 5.0.0)</h3>

<p>The get_all_commands method returns an array of the commands that are available for a particular target. The returned array is an array of hashes which fully describe the command packet.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">get_all_commands</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cmd_list</span> <span class="o">=</span> <span class="n">get_all_commands</span><span class="p">(</span><span class="s2">"INST"</span><span class="p">)</span>
<span class="n">pp</span> <span class="n">cmd_list</span>
<span class="c1">#[{"target_name"=&gt;"INST",</span>
<span class="c1">#  "packet_name"=&gt;"ABORT",</span>
<span class="c1">#  "endianness"=&gt;"BIG_ENDIAN",</span>
<span class="c1">#  "description"=&gt;"Aborts a collect on the instrument",</span>
<span class="c1">#  "stale"=&gt;true,</span>
<span class="c1">#  "items"=&gt;</span>
<span class="c1">#   [{"name"=&gt;"CCSDSVER",</span>
<span class="c1">#     "bit_offset"=&gt;0,</span>
<span class="c1">#     "bit_size"=&gt;3,</span>
<span class="c1">#     ...</span>
</code></pre></div></div>

<h3 id="get_command-since-500">
<a class="anchor" href="#get_command-since-500" aria-hidden="true"><span class="octicon octicon-link"></span></a>get_command (since 5.0.0)</h3>

<p>The get_command method returns a command hash which fully describes the command packet.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">get_command</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt;"</span><span class="p">,</span> <span class="s2">"&lt;Packet Name&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target.</td>
    </tr>
    <tr>
      <td>Packet Name</td>
      <td>Name of the packet.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cmd</span> <span class="o">=</span> <span class="n">get_command</span><span class="p">(</span><span class="s2">"INST"</span><span class="p">,</span> <span class="s2">"ABORT"</span><span class="p">)</span>
<span class="n">pp</span> <span class="n">cmd</span>
<span class="c1">#[{"target_name"=&gt;"INST",</span>
<span class="c1">#  "packet_name"=&gt;"ABORT",</span>
<span class="c1">#  "endianness"=&gt;"BIG_ENDIAN",</span>
<span class="c1">#  "description"=&gt;"Aborts a collect on the instrument",</span>
<span class="c1">#  "stale"=&gt;true,</span>
<span class="c1">#  "items"=&gt;</span>
<span class="c1">#   [{"name"=&gt;"CCSDSVER",</span>
<span class="c1">#     "bit_offset"=&gt;0,</span>
<span class="c1">#     "bit_size"=&gt;3,</span>
<span class="c1">#     ...</span>
</code></pre></div></div>

<h3 id="get_parameter-since-500">
<a class="anchor" href="#get_parameter-since-500" aria-hidden="true"><span class="octicon octicon-link"></span></a>get_parameter (since 5.0.0)</h3>

<p>The get_parameter method returns a hash of the given command parameter</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">get_parameter</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt;"</span><span class="p">,</span> <span class="s2">"&lt;Command Name&gt;"</span><span class="p">,</span> <span class="s2">"&lt;Parameter Name&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target.</td>
    </tr>
    <tr>
      <td>Command Name</td>
      <td>Name of the command.</td>
    </tr>
    <tr>
      <td>Parameter Name</td>
      <td>Name of the parameter.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">param</span> <span class="o">=</span> <span class="n">get_parameter</span><span class="p">(</span><span class="s2">"INST"</span><span class="p">,</span> <span class="s2">"COLLECT"</span><span class="p">,</span> <span class="s2">"TYPE"</span><span class="p">)</span>
<span class="n">pp</span> <span class="n">param</span>
<span class="c1"># {"name"=&gt;"TYPE",</span>
<span class="c1"># "bit_offset"=&gt;64,</span>
<span class="c1"># "bit_size"=&gt;16,</span>
<span class="c1"># "data_type"=&gt;"UINT",</span>
<span class="c1"># "description"=&gt;"Collect type",</span>
<span class="c1"># "default"=&gt;0,</span>
<span class="c1"># "minimum"=&gt;0,</span>
<span class="c1"># "maximum"=&gt;65535,</span>
<span class="c1"># "endianness"=&gt;"BIG_ENDIAN",</span>
<span class="c1"># "required"=&gt;true,</span>
<span class="c1"># "overflow"=&gt;"ERROR",</span>
<span class="c1"># "states"=&gt;{"NORMAL"=&gt;{"value"=&gt;0}, "SPECIAL"=&gt;{"value"=&gt;1, "hazardous"=&gt;""}}}</span>
</code></pre></div></div>

<h3 id="get_cmd_buffer">
<a class="anchor" href="#get_cmd_buffer" aria-hidden="true"><span class="octicon octicon-link"></span></a>get_cmd_buffer</h3>

<p>The get_cmd_buffer method returns the raw packet buffer as a Ruby string.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">buffer</span> <span class="o">=</span> <span class="n">get_cmd_buffer</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt;"</span><span class="p">,</span> <span class="s2">"&lt;Packet Name&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target.</td>
    </tr>
    <tr>
      <td>Packet Name</td>
      <td>Name of the packet.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">buffer</span> <span class="o">=</span> <span class="n">get_cmd_buffer</span><span class="p">(</span><span class="s2">"INST"</span><span class="p">,</span> <span class="s2">"COLLECT"</span><span class="p">)</span>
<span class="n">buffer</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s1">'C*'</span><span class="p">)</span> <span class="c1"># See the Ruby documentation for class String method unpack</span>
</code></pre></div></div>

<h3 id="get_cmd_hazardous">
<a class="anchor" href="#get_cmd_hazardous" aria-hidden="true"><span class="octicon octicon-link"></span></a>get_cmd_hazardous</h3>

<p>The get_cmd_hazardous method returns true/false indicating whether a particular command is flagged as hazardous.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">get_cmd_hazardous</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt;"</span><span class="p">,</span> <span class="s2">"&lt;Command Name&gt;"</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Command</span> <span class="no">Params</span> <span class="o">-</span> <span class="n">optional</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target.</td>
    </tr>
    <tr>
      <td>Command Name</td>
      <td>Name of the command.</td>
    </tr>
    <tr>
      <td>Command Params</td>
      <td>Hash of the parameters given to the command (optional). Note that some commands are only hazardous based on parameter states.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">hazardous</span> <span class="o">=</span> <span class="n">get_cmd_hazardous</span><span class="p">(</span><span class="s2">"INST"</span><span class="p">,</span> <span class="s2">"COLLECT"</span><span class="p">,</span> <span class="p">{</span><span class="s1">'TYPE'</span> <span class="o">=&gt;</span> <span class="s1">'SPECIAL'</span><span class="p">})</span>
</code></pre></div></div>

<h3 id="get_cmd_value">
<a class="anchor" href="#get_cmd_value" aria-hidden="true"><span class="octicon octicon-link"></span></a>get_cmd_value</h3>

<p>The get_cmd_value method returns reads a value from the most recently sent command packet. The pseudo-parameters ‘PACKET_TIMESECONDS’, ‘PACKET_TIMEFORMATTED’, ‘RECEIVED_COUNT’, ‘RECEIVED_TIMEFORMATTED’, and ‘RECEIVED_TIMESECONDS’ are also supported.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">get_cmd_value</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt;"</span><span class="p">,</span> <span class="s2">"&lt;Command Name&gt;"</span><span class="p">,</span> <span class="s2">"&lt;Parameter Name&gt;"</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Value</span> <span class="no">Type</span> <span class="o">-</span> <span class="n">optional</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target.</td>
    </tr>
    <tr>
      <td>Command Name</td>
      <td>Name of the command.</td>
    </tr>
    <tr>
      <td>Parameter Name</td>
      <td>Name of the command parameter.</td>
    </tr>
    <tr>
      <td>Value Type</td>
      <td>Value Type to read. :RAW, :CONVERTED, :FORMATTED, or :WITH_UNITS</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">value</span> <span class="o">=</span> <span class="n">get_cmd_value</span><span class="p">(</span><span class="s2">"INST"</span><span class="p">,</span> <span class="s2">"COLLECT"</span><span class="p">,</span> <span class="s2">"TEMP"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="get_cmd_time">
<a class="anchor" href="#get_cmd_time" aria-hidden="true"><span class="octicon octicon-link"></span></a>get_cmd_time</h3>

<p>The get_cmd_time method returns the time of the most recent command sent.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">get_cmd_time</span><span class="p">(</span><span class="s2">"&lt;Target Name - optional&gt;"</span><span class="p">,</span> <span class="s2">"&lt;Command Name - optional&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target. If not given, then the most recent command time to any target will be returned</td>
    </tr>
    <tr>
      <td>Command Name</td>
      <td>Name of the command. If not given, then the most recent command time to the given target will be returned</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">target_name</span><span class="p">,</span> <span class="n">command_name</span><span class="p">,</span> <span class="n">time</span> <span class="o">=</span> <span class="n">get_cmd_time</span><span class="p">()</span> <span class="c1"># Name of the most recent command sent to any target and time</span>
<span class="n">target_name</span><span class="p">,</span> <span class="n">command_name</span><span class="p">,</span> <span class="n">time</span> <span class="o">=</span> <span class="n">get_cmd_time</span><span class="p">(</span><span class="s2">"INST"</span><span class="p">)</span> <span class="c1"># Name of the most recent command sent to the INST target and time</span>
<span class="n">target_name</span><span class="p">,</span> <span class="n">command_name</span><span class="p">,</span> <span class="n">time</span> <span class="o">=</span> <span class="n">get_cmd_time</span><span class="p">(</span><span class="s2">"INST"</span><span class="p">,</span> <span class="s2">"COLLECT"</span><span class="p">)</span> <span class="c1"># Name of the most recent INST COLLECT command and time</span>
</code></pre></div></div>

<h3 id="get_cmd_cnt">
<a class="anchor" href="#get_cmd_cnt" aria-hidden="true"><span class="octicon octicon-link"></span></a>get_cmd_cnt</h3>

<p>The get_cmd_cnt method returns the number of times a specified command has been sent.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">get_cmd_cnt</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt;"</span><span class="p">,</span> <span class="s2">"&lt;Command Name&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target.</td>
    </tr>
    <tr>
      <td>Command Name</td>
      <td>Name of the command.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cmd_cnt</span> <span class="o">=</span> <span class="n">get_cmd_cnt</span><span class="p">(</span><span class="s2">"INST"</span><span class="p">,</span> <span class="s2">"COLLECT"</span><span class="p">)</span> <span class="c1"># Number of times the INST COLLECT command has been sent</span>
</code></pre></div></div>

<h3 id="get_all_cmd_info">
<a class="anchor" href="#get_all_cmd_info" aria-hidden="true"><span class="octicon octicon-link"></span></a>get_all_cmd_info</h3>

<p>The get_all_cmd_info method returns the number of times each command has been sent. The return value is an array of arrays where each subarray contains the target name, command name, and packet count for a command.</p>

<p>Syntax / Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cmd_info</span> <span class="o">=</span> <span class="n">get_all_cmd_info</span><span class="p">()</span>
<span class="n">cmd_info</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">target_name</span><span class="p">,</span> <span class="n">cmd_name</span><span class="p">,</span> <span class="n">pkt_count</span><span class="o">|</span>
  <span class="nb">puts</span> <span class="s2">"Target: </span><span class="si">#{</span><span class="n">target_name</span><span class="si">}</span><span class="s2">, Command: </span><span class="si">#{</span><span class="n">cmd_name</span><span class="si">}</span><span class="s2">, Packet count: </span><span class="si">#{</span><span class="n">pkt_count</span><span class="si">}</span><span class="s2">"</span>
<span class="k">end</span>
</code></pre></div></div>

<h2 id="handling-telemetry">
<a class="anchor" href="#handling-telemetry" aria-hidden="true"><span class="octicon octicon-link"></span></a>Handling Telemetry</h2>

<p>These methods allow the user to interact with telemetry items.</p>

<h3 id="check">
<a class="anchor" href="#check" aria-hidden="true"><span class="octicon octicon-link"></span></a>check</h3>

<p>The check method performs a verification of a telemetry item using its converted telemetry type. If the verification fails then the script will be paused with an error. If no comparision is given to check then the telemetry item is simply printed to the script output. Note: In most cases using wait_check is a better choice than using check.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">check</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt; &lt;Packet Name&gt; &lt;Item Name&gt; &lt;Comparison - optional&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target of the telemetry item.</td>
    </tr>
    <tr>
      <td>Packet Name</td>
      <td>Name of the telemetry packet of the telemetry item.</td>
    </tr>
    <tr>
      <td>Item Name</td>
      <td>Name of the telemetry item.</td>
    </tr>
    <tr>
      <td>Comparison</td>
      <td>A comparison to perform against the telemetry item. If a comparison is not given then the telemetry item will just be printed into the script log.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">check</span><span class="p">(</span><span class="s2">"INST HEALTH_STATUS COLLECTS &gt; 1"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="check_raw">
<a class="anchor" href="#check_raw" aria-hidden="true"><span class="octicon octicon-link"></span></a>check_raw</h3>

<p>The check_raw method performs a verification of a telemetry item using its raw telemetry type. If the verification fails then the script will be paused with an error. If no comparision is given to check then the telemetry item is simply printed to the script output. Note: In most cases using wait_check_raw is a better choice than using check_raw.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">check_raw</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt; &lt;Packet Name&gt; &lt;Item Name&gt; &lt;Comparison&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target of the telemetry item.</td>
    </tr>
    <tr>
      <td>Packet Name</td>
      <td>Name of the telemetry packet of the telemetry item.</td>
    </tr>
    <tr>
      <td>Item Name</td>
      <td>Name of the telemetry item.</td>
    </tr>
    <tr>
      <td>Comparison</td>
      <td>A comparison to perform against the telemetry item. If a comparison is not given then the telemetry item will just be printed into the script log. If a comparison is not given then the telemetry item will just be printed into the script log.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">check_raw</span><span class="p">(</span><span class="s2">"INST HEALTH_STATUS COLLECTS &gt; 1"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="check_formatted">
<a class="anchor" href="#check_formatted" aria-hidden="true"><span class="octicon octicon-link"></span></a>check_formatted</h3>

<p>The check_formatted method performs a verification of a telemetry item using its formatted telemetry type. If the verification fails then the script will be paused with an error. If no comparision is given to check then the telemetry item is simply printed to the script output.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">check_formatted</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt; &lt;Packet Name&gt; &lt;Item Name&gt; &lt;Comparison&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target of the telemetry item.</td>
    </tr>
    <tr>
      <td>Packet Name</td>
      <td>Name of the telemetry packet of the telemetry item.</td>
    </tr>
    <tr>
      <td>Item Name</td>
      <td>Name of the telemetry item.</td>
    </tr>
    <tr>
      <td>Comparison</td>
      <td>A comparison to perform against the telemetry item. If a comparison is not given then the telemetry item will just be printed into the script log. If a comparison is not given then the telemetry item will just be printed into the script log.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">check_formatted</span><span class="p">(</span><span class="s2">"INST HEALTH_STATUS COLLECTS == '1'"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="check_with_units">
<a class="anchor" href="#check_with_units" aria-hidden="true"><span class="octicon octicon-link"></span></a>check_with_units</h3>

<p>The check_with_units method performs a verification of a telemetry item using its formatted with units telemetry type. If the verification fails then the script will be paused with an error. If no comparision is given to check then the telemetry item is simply printed to the script output.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">check_with_units</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt; &lt;Packet Name&gt; &lt;Item Name&gt; &lt;Comparison&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target of the telemetry item.</td>
    </tr>
    <tr>
      <td>Packet Name</td>
      <td>Name of the telemetry packet of the telemetry item.</td>
    </tr>
    <tr>
      <td>Item Name</td>
      <td>Name of the telemetry item.</td>
    </tr>
    <tr>
      <td>Comparison</td>
      <td>A comparison to perform against the telemetry item. If a comparison is not given then the telemetry item will just be printed into the script log. If a comparison is not given then the telemetry item will just be printed into the script log.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">check_with_units</span><span class="p">(</span><span class="s2">"INST HEALTH_STATUS COLLECTS == '1'"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="check_tolerance">
<a class="anchor" href="#check_tolerance" aria-hidden="true"><span class="octicon octicon-link"></span></a>check_tolerance</h3>

<p>The check_tolerance method checks a converted telemetry item against an expected value with a tolerance. If the verification fails then the script will be paused with an error. Note: In most cases using wait_check_tolerance is a better choice than using check_tolerance.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">check_tolerance</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt; &lt;Packet Name&gt; &lt;Item Name&gt;"</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Expected</span> <span class="no">Value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Tolerance</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target of the telemetry item.</td>
    </tr>
    <tr>
      <td>Packet Name</td>
      <td>Name of the telemetry packet of the telemetry item.</td>
    </tr>
    <tr>
      <td>Item Name</td>
      <td>Name of the telemetry item.</td>
    </tr>
    <tr>
      <td>Expected Value</td>
      <td>Expected value of the telemetry item.</td>
    </tr>
    <tr>
      <td>Tolerance</td>
      <td>± Tolerance on the expected value.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">check_tolerance</span><span class="p">(</span><span class="s2">"INST HEALTH_STATUS COLLECTS"</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="check_tolerance_raw">
<a class="anchor" href="#check_tolerance_raw" aria-hidden="true"><span class="octicon octicon-link"></span></a>check_tolerance_raw</h3>

<p>The check_tolerance_raw method checks a raw telemetry item against an expected value with a tolerance. If the verification fails then the script will be paused with an error. Note: In most cases using wait_check_tolerance_raw is a better choice than using check_tolerance_raw.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">check_tolerance_raw</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt; &lt;Packet Name&gt; &lt;Item Name&gt;"</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Expected</span> <span class="no">Value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Tolerance</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target of the telemetry item.</td>
    </tr>
    <tr>
      <td>Packet Name</td>
      <td>Name of the telemetry packet of the telemetry item.</td>
    </tr>
    <tr>
      <td>Item Name</td>
      <td>Name of the telemetry item.</td>
    </tr>
    <tr>
      <td>Expected Value</td>
      <td>Expected value of the telemetry item.</td>
    </tr>
    <tr>
      <td>Tolerance</td>
      <td>± Tolerance on the expected value.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">check_tolerance_raw</span><span class="p">(</span><span class="s2">"INST HEALTH_STATUS COLLECTS"</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="check_expression">
<a class="anchor" href="#check_expression" aria-hidden="true"><span class="octicon octicon-link"></span></a>check_expression</h3>

<p>The check_expression method evaluates an expression. If the expression evaluates to false the script will be paused with an error. This method can be used to perform more complicated comparisons than using check as shown in the example. Note: In most cases using <a href="#waitcheckexpression">wait_check_expression</a> is a better choice than using check_expression.</p>

<p>Remember that everything inside the check_expression string will be evaluated directly by the Ruby interpreter and thus must be valid syntax. A common mistake is to check a variable like so:</p>

<p><code class="language-plaintext highlighter-rouge">check_expression("#{answer} == 'yes'") # where answer contains 'yes'</code></p>

<p>This evaluates to <code class="language-plaintext highlighter-rouge">yes == 'yes'</code> which is not valid syntax because the variable yes is not defined (usually). The correct way to write this expression is as follows:</p>

<p><code class="language-plaintext highlighter-rouge">check_expression("'#{answer}' == 'yes'") # where answer contains 'yes'</code></p>

<p>Now this evaluates to <code class="language-plaintext highlighter-rouge">'yes' == 'yes'</code> which is true so the check passes.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">check_expression</span><span class="p">(</span><span class="s2">"&lt;Expression&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Expression</td>
      <td>A ruby expression to evaluate.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">check_expression</span><span class="p">(</span><span class="s2">"tlm('INST HEALTH_STATUS COLLECTS') &gt; 5 and tlm('INST HEALTH_STATUS TEMP1') &gt; 25.0"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="check_exception">
<a class="anchor" href="#check_exception" aria-hidden="true"><span class="octicon octicon-link"></span></a>check_exception</h3>

<p>The check_exception method executes a method and expects an exception to be raised. If the method does not raise an exception, a CheckError is raised.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">check_exception</span><span class="p">(</span><span class="s2">"&lt;Method Name&gt;"</span><span class="p">,</span> <span class="s2">"&lt;Method Params - optional&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Method Name</td>
      <td>The COSMOS scripting method to execute, e.g. ‘cmd’, ‘cmd_raw’, etc.</td>
    </tr>
    <tr>
      <td>Method Params</td>
      <td>Parameters for the method</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">check_exception</span><span class="p">(</span><span class="s2">"cmd"</span><span class="p">,</span> <span class="s2">"INST"</span><span class="p">,</span> <span class="s2">"COLLECT"</span><span class="p">,</span> <span class="s2">"TYPE"</span><span class="o">=&gt;</span><span class="s2">"NORMAL"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="tlm">
<a class="anchor" href="#tlm" aria-hidden="true"><span class="octicon octicon-link"></span></a>tlm</h3>

<p>The tlm method reads the converted form of a specified telemetry item.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">tlm</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt; &lt;Packet Name&gt; &lt;Item Name&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target of the telemetry item.</td>
    </tr>
    <tr>
      <td>Packet Name</td>
      <td>Name of the telemetry packet of the telemetry item.</td>
    </tr>
    <tr>
      <td>Item Name</td>
      <td>Name of the telemetry item.</td>
    </tr>
    <tr>
      <td>type:</td>
      <td>Named parameter specifying the type. :RAW, :FORMATTED, :CONVERTED (default), :WITH_UNITS.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">value</span> <span class="o">=</span> <span class="n">tlm</span><span class="p">(</span><span class="s2">"INST HEALTH_STATUS COLLECTS"</span><span class="p">)</span>
<span class="n">raw_value</span> <span class="o">=</span> <span class="n">tlm</span><span class="p">(</span><span class="s2">"INST HEALTH_STATUS COLLECTS"</span><span class="p">,</span> <span class="ss">type: :RAW</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="tlm_raw">
<a class="anchor" href="#tlm_raw" aria-hidden="true"><span class="octicon octicon-link"></span></a>tlm_raw</h3>

<p>The tlm_raw method reads the raw form of a specified telemetry item.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">tlm_raw</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt; &lt;Packet Name&gt; &lt;Item Name&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target of the telemetry item.</td>
    </tr>
    <tr>
      <td>Packet Name</td>
      <td>Name of the telemetry packet of the telemetry item.</td>
    </tr>
    <tr>
      <td>Item Name</td>
      <td>Name of the telemetry item.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">value</span> <span class="o">=</span> <span class="n">tlm_raw</span><span class="p">(</span><span class="s2">"INST HEALTH_STATUS COLLECTS"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="tlm_formatted">
<a class="anchor" href="#tlm_formatted" aria-hidden="true"><span class="octicon octicon-link"></span></a>tlm_formatted</h3>

<p>The tlm_formatted method reads the formatted form of a specified telemetry item.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">tlm_formatted</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt; &lt;Packet Name&gt; &lt;Item Name&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target of the telemetry item.</td>
    </tr>
    <tr>
      <td>Packet Name</td>
      <td>Name of the telemetry packet of the telemetry item.</td>
    </tr>
    <tr>
      <td>Item Name</td>
      <td>Name of the telemetry item.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">value</span> <span class="o">=</span> <span class="n">tlm_formatted</span><span class="p">(</span><span class="s2">"INST HEALTH_STATUS COLLECTS"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="tlm_with_units">
<a class="anchor" href="#tlm_with_units" aria-hidden="true"><span class="octicon octicon-link"></span></a>tlm_with_units</h3>

<p>The tlm_with_units method reads the formatted with units form of a specified telemetry item.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">tlm_with_units</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt; &lt;Packet Name&gt; &lt;Item Name&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target of the telemetry item.</td>
    </tr>
    <tr>
      <td>Packet Name</td>
      <td>Name of the telemetry packet of the telemetry item.</td>
    </tr>
    <tr>
      <td>Item Name</td>
      <td>Name of the telemetry item.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">value</span> <span class="o">=</span> <span class="n">tlm_with_units</span><span class="p">(</span><span class="s2">"INST HEALTH_STATUS COLLECTS"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="tlm_variable">
<a class="anchor" href="#tlm_variable" aria-hidden="true"><span class="octicon octicon-link"></span></a>tlm_variable</h3>

<p>The tlm_variable method reads a specified telemetry item with a variable value type. This method is deprecated now that tlm() itself takes a type keyword to request the type of telemetry.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">tlm_variable</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt; &lt;Packet Name&gt; &lt;Item Name&gt;"</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Value</span> <span class="no">Type</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target of the telemetry item.</td>
    </tr>
    <tr>
      <td>Packet Name</td>
      <td>Name of the telemetry packet of the telemetry item.</td>
    </tr>
    <tr>
      <td>Item Name</td>
      <td>Name of the telemetry item.</td>
    </tr>
    <tr>
      <td>Value Type</td>
      <td>Value Type to read. :RAW, :CONVERTED, :FORMATTED, or :WITH_UNITS</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">value</span> <span class="o">=</span> <span class="n">tlm_variable</span><span class="p">(</span><span class="s2">"INST HEALTH_STATUS COLLECTS"</span><span class="p">,</span> <span class="ss">:RAW</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="get_tlm_buffer">
<a class="anchor" href="#get_tlm_buffer" aria-hidden="true"><span class="octicon octicon-link"></span></a>get_tlm_buffer</h3>

<p>The get_tlm_buffer method returns the raw packet buffer as a Ruby string.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">buffer</span> <span class="o">=</span> <span class="n">get_tlm_buffer</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt;"</span><span class="p">,</span> <span class="s2">"&lt;Packet Name&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target.</td>
    </tr>
    <tr>
      <td>Packet Name</td>
      <td>Name of the packet.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">buffer</span> <span class="o">=</span> <span class="n">get_tlm_packet</span><span class="p">(</span><span class="s2">"INST"</span><span class="p">,</span> <span class="s2">"HEALTH_STATUS"</span><span class="p">)</span>
<span class="n">buffer</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s1">'C*'</span><span class="p">)</span> <span class="c1"># See the Ruby documentation for class String method unpack</span>
</code></pre></div></div>

<h3 id="get_tlm_packet">
<a class="anchor" href="#get_tlm_packet" aria-hidden="true"><span class="octicon octicon-link"></span></a>get_tlm_packet</h3>

<p>The get_tlm_packet method returns the names, values, and limits states of all telemetry items in a specified packet. The value is returned as an array of arrays with each entry containing [item_name, item_value, limits_state].</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">get_tlm_packet</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt;"</span><span class="p">,</span> <span class="s2">"&lt;Packet Name&gt;"</span><span class="p">,</span> <span class="ss">type: :CONVERTED</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target.</td>
    </tr>
    <tr>
      <td>Packet Name</td>
      <td>Name of the packet.</td>
    </tr>
    <tr>
      <td>type:</td>
      <td>Named parameter specifying the type. :RAW, :CONVERTED (default), :FORMATTED, or :WITH_UNITS.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">names_values_and_limits_states</span> <span class="o">=</span> <span class="n">get_tlm_packet</span><span class="p">(</span><span class="s2">"INST"</span><span class="p">,</span> <span class="s2">"HEALTH_STATUS"</span><span class="p">,</span> <span class="ss">type: :FORMATTED</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="get_tlm_values-modified-in-500">
<a class="anchor" href="#get_tlm_values-modified-in-500" aria-hidden="true"><span class="octicon octicon-link"></span></a>get_tlm_values (modified in 5.0.0)</h3>

<p>The get_tlm_values method returns the values and current limits state for a specified set of telemetry items. Items can be in any telemetry packet in the system. They can all be retrieved using the same value type or a specific value type can be specified for each item.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">values</span><span class="p">,</span> <span class="n">limits_states</span><span class="p">,</span> <span class="n">limits_settings</span><span class="p">,</span> <span class="n">limits_set</span> <span class="o">=</span> <span class="n">get_tlm_values</span><span class="p">(</span><span class="o">&lt;</span><span class="n">items</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>items</td>
      <td>Array of strings of the form [‘TGT__PKT__ITEM__TYPE’, … ]</td>
    </tr>
  </tbody>
</table>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">values</span> <span class="o">=</span> <span class="n">get_tlm_values</span><span class="p">([</span><span class="s2">"INST__HEALTH_STATUS__TEMP1__CONVERTED"</span><span class="p">,</span> <span class="s2">"INST__HEALTH_STATUS__TEMP2__RAW"</span><span class="p">])</span>
<span class="n">pp</span> <span class="n">values</span> <span class="c1"># [[-100.0, :RED_LOW], [0, :RED_LOW]]</span>
</code></pre></div></div>

<h3 id="get_all_telemetry-since-500">
<a class="anchor" href="#get_all_telemetry-since-500" aria-hidden="true"><span class="octicon octicon-link"></span></a>get_all_telemetry (since 5.0.0)</h3>

<p>The get_all_telemetry method returns an array of all target packet hashes.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">get_all_telemetry</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">packets</span> <span class="o">=</span> <span class="n">get_all_telemetry</span><span class="p">(</span><span class="s2">"INST"</span><span class="p">)</span>
<span class="n">pp</span> <span class="n">packets</span>
<span class="c1">#[{"target_name"=&gt;"INST",</span>
<span class="c1">#  "packet_name"=&gt;"ADCS",</span>
<span class="c1">#  "endianness"=&gt;"BIG_ENDIAN",</span>
<span class="c1">#  "description"=&gt;"Position and attitude data",</span>
<span class="c1">#  "stale"=&gt;true,</span>
<span class="c1">#  "items"=&gt;</span>
<span class="c1">#   [{"name"=&gt;"CCSDSVER",</span>
<span class="c1">#     "bit_offset"=&gt;0,</span>
<span class="c1">#     "bit_size"=&gt;3,</span>
<span class="c1">#     ...</span>
</code></pre></div></div>

<h3 id="get_telemetry-since-500">
<a class="anchor" href="#get_telemetry-since-500" aria-hidden="true"><span class="octicon octicon-link"></span></a>get_telemetry (since 5.0.0)</h3>

<p>The get_telemetry method returns a packet hash.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">get_telemetry</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt;"</span><span class="p">,</span> <span class="s2">"&lt;Packet Name&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target.</td>
    </tr>
    <tr>
      <td>Packet Name</td>
      <td>Name of the packet.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">packet</span> <span class="o">=</span> <span class="n">get_telemetry</span><span class="p">(</span><span class="s2">"INST"</span><span class="p">,</span> <span class="s2">"HEALTH_STATUS"</span><span class="p">)</span>
<span class="n">pp</span> <span class="n">packet</span>
<span class="c1">#{"target_name"=&gt;"INST",</span>
<span class="c1"># "packet_name"=&gt;"HEALTH_STATUS",</span>
<span class="c1"># "endianness"=&gt;"BIG_ENDIAN",</span>
<span class="c1"># "description"=&gt;"Health and status from the instrument",</span>
<span class="c1"># "stale"=&gt;true,</span>
<span class="c1"># "processors"=&gt;</span>
<span class="c1">#  [{"name"=&gt;"TEMP1STAT",</span>
<span class="c1">#    "class"=&gt;"Cosmos::StatisticsProcessor",</span>
<span class="c1">#    "params"=&gt;["TEMP1", 100, "CONVERTED"]},</span>
<span class="c1">#   {"name"=&gt;"TEMP1WATER",</span>
<span class="c1">#    "class"=&gt;"Cosmos::WatermarkProcessor",</span>
<span class="c1">#    "params"=&gt;["TEMP1", "CONVERTED"]}],</span>
<span class="c1"># "items"=&gt;</span>
<span class="c1">#  [{"name"=&gt;"CCSDSVER",</span>
<span class="c1">#    "bit_offset"=&gt;0,</span>
<span class="c1">#    "bit_size"=&gt;3,</span>
<span class="c1">#    ...</span>
</code></pre></div></div>

<h3 id="get_item-since-500">
<a class="anchor" href="#get_item-since-500" aria-hidden="true"><span class="octicon octicon-link"></span></a>get_item (since 5.0.0)</h3>

<p>The get_item method returns an item hash.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">get_item</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt;"</span><span class="p">,</span> <span class="s2">"&lt;Packet Name&gt;"</span><span class="p">,</span> <span class="s2">"&lt;Item Name&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target.</td>
    </tr>
    <tr>
      <td>Packet Name</td>
      <td>Name of the packet.</td>
    </tr>
    <tr>
      <td>Item Name</td>
      <td>Name of the item.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">item</span> <span class="o">=</span> <span class="n">get_item</span><span class="p">(</span><span class="s2">"INST"</span><span class="p">,</span> <span class="s2">"HEALTH_STATUS"</span><span class="p">,</span> <span class="s2">"CCSDSVER"</span><span class="p">)</span>
<span class="n">pp</span> <span class="n">item</span>
<span class="c1">#{"name"=&gt;"CCSDSVER",</span>
<span class="c1"># "bit_offset"=&gt;0,</span>
<span class="c1"># "bit_size"=&gt;3,</span>
<span class="c1"># "data_type"=&gt;"UINT",</span>
<span class="c1"># "description"=&gt;"CCSDS packet version number (See CCSDS 133.0-B-1)",</span>
<span class="c1"># "endianness"=&gt;"BIG_ENDIAN",</span>
<span class="c1"># "required"=&gt;false,</span>
<span class="c1"># "overflow"=&gt;"ERROR"}</span>
</code></pre></div></div>

<h3 id="get_tlm_cnt">
<a class="anchor" href="#get_tlm_cnt" aria-hidden="true"><span class="octicon octicon-link"></span></a>get_tlm_cnt</h3>

<p>The get_tlm_cnt method returns the number of times a specified telemetry packet has been received.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">get_tlm_cnt</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt;"</span><span class="p">,</span> <span class="s2">"&lt;Packet Name&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target.</td>
    </tr>
    <tr>
      <td>Packet Name</td>
      <td>Name of the telemetry packet.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">tlm_cnt</span> <span class="o">=</span> <span class="n">get_tlm_cnt</span><span class="p">(</span><span class="s2">"INST"</span><span class="p">,</span> <span class="s2">"HEALTH_STATUS"</span><span class="p">)</span> <span class="c1"># Number of times the INST HEALTH_STATUS telemetry packet has been received.</span>
</code></pre></div></div>

<h3 id="get_all_tlm_info">
<a class="anchor" href="#get_all_tlm_info" aria-hidden="true"><span class="octicon octicon-link"></span></a>get_all_tlm_info</h3>

<p>The get_all_tlm_info method returns the number of times each telemetry packet has been received. The return value is an array of arrays where each subarray contains the target name, telemetry packet name, and packet count for a telemetry packet.</p>

<p>Syntax / Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">tlm_info</span> <span class="o">=</span> <span class="n">get_all_tlm_info</span><span class="p">()</span>
<span class="n">tlm_info</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">target_name</span><span class="p">,</span> <span class="n">pkt_name</span><span class="p">,</span> <span class="n">pkt_count</span><span class="o">|</span>
  <span class="nb">puts</span> <span class="s2">"Target: </span><span class="si">#{</span><span class="n">target_name</span><span class="si">}</span><span class="s2">, Packet: </span><span class="si">#{</span><span class="n">pkt_name</span><span class="si">}</span><span class="s2">, Packet count: </span><span class="si">#{</span><span class="n">pkt_count</span><span class="si">}</span><span class="s2">"</span>
<span class="k">end</span>
</code></pre></div></div>

<h3 id="set_tlm">
<a class="anchor" href="#set_tlm" aria-hidden="true"><span class="octicon octicon-link"></span></a>set_tlm</h3>

<p>The set_tlm method sets a telemetry item value in the Command and Telemetry Server. This value will be overwritten if a new packet is received from an interface. For that reason this method is most useful if interfaces are disconnected or for testing via the Script Runner disconnect mode. Manually setting telemetry values allows for the execution of many logical paths in scripts.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">set_tlm</span><span class="p">(</span><span class="s2">"&lt;Target&gt; &lt;Packet&gt; &lt;Item&gt; = &lt;Value&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target</td>
      <td>Target name</td>
    </tr>
    <tr>
      <td>Packet</td>
      <td>Packet name</td>
    </tr>
    <tr>
      <td>Item</td>
      <td>Item name</td>
    </tr>
    <tr>
      <td>Value</td>
      <td>Value to set</td>
    </tr>
    <tr>
      <td>type:</td>
      <td>Value type :RAW, :CONVERTED (default), :FORMATTED, :WITH_UNITS</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">set_tlm</span><span class="p">(</span><span class="s2">"INST HEALTH_STATUS COLLECTS = 5"</span><span class="p">)</span> <span class="c1"># type is :CONVERTED by default</span>
<span class="n">check</span><span class="p">(</span><span class="s2">"INST HEALTH_STATUS COLLECTS == 5"</span><span class="p">)</span>
<span class="n">set_tlm</span><span class="p">(</span><span class="s2">"INST HEALTH_STATUS COLLECTS = 10"</span><span class="p">,</span> <span class="ss">type: :RAW</span><span class="p">)</span>
<span class="n">check_raw</span><span class="p">(</span><span class="s2">"INST HEALTH_STATUS COLLECTS == 10"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="inject_tlm">
<a class="anchor" href="#inject_tlm" aria-hidden="true"><span class="octicon octicon-link"></span></a>inject_tlm</h3>

<p>The inject_tlm method injects a packet into the system as if it was received from an interface.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">inject_tlm</span><span class="p">(</span><span class="s2">"&lt;target_name&gt;"</span><span class="p">,</span> <span class="s2">"&lt;packet_name&gt;"</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">item_hash</span><span class="o">&gt;</span><span class="p">,</span> <span class="ss">type: :CONVERTED</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target</td>
      <td>Target name</td>
    </tr>
    <tr>
      <td>Packet</td>
      <td>Packet name</td>
    </tr>
    <tr>
      <td>Item Hash</td>
      <td>Hash of item name/value for each item. If an item is not specified in the hash, the current value table value will be used. Optional parameter, defaults to nil.</td>
    </tr>
    <tr>
      <td>type:</td>
      <td>Type of values in the item hash, :RAW, :CONVERTED (default), :FORMATTED, :WITH_UNITS</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">inject_tlm</span><span class="p">(</span><span class="s2">"INST"</span><span class="p">,</span> <span class="s2">"PARAMS"</span><span class="p">,</span> <span class="p">{</span><span class="s1">'VALUE1'</span> <span class="o">=&gt;</span> <span class="mf">5.0</span><span class="p">,</span> <span class="s1">'VALUE2'</span> <span class="o">=&gt;</span> <span class="mf">7.0</span><span class="p">})</span>
</code></pre></div></div>

<h3 id="override_tlm">
<a class="anchor" href="#override_tlm" aria-hidden="true"><span class="octicon octicon-link"></span></a>override_tlm</h3>

<p>The override_tlm method sets the converted value for a telmetry point in the Command and Telemetry Server. This value will be maintained even if a new packet is received on the interface unless the override is canceled with the normalize_tlm method.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">override_tlm</span><span class="p">(</span><span class="s2">"&lt;Target&gt; &lt;Packet&gt; &lt;Item&gt; = &lt;Value&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target</td>
      <td>Target name</td>
    </tr>
    <tr>
      <td>Packet</td>
      <td>Packet name</td>
    </tr>
    <tr>
      <td>Item</td>
      <td>Item name</td>
    </tr>
    <tr>
      <td>Value</td>
      <td>Value to set</td>
    </tr>
    <tr>
      <td>type:</td>
      <td>Type to override, :RAW, :CONVERTED (default), :FORMATTED, :WITH_UNITS</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">override_tlm</span><span class="p">(</span><span class="s2">"INST HEALTH_STATUS TEMP1 = 5"</span><span class="p">)</span>
<span class="n">override_tlm</span><span class="p">(</span><span class="s2">"INST HEALTH_STATUS TEMP2 = 0"</span><span class="p">,</span> <span class="ss">type: :RAW</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="normalize_tlm">
<a class="anchor" href="#normalize_tlm" aria-hidden="true"><span class="octicon octicon-link"></span></a>normalize_tlm</h3>

<p>The normalize_tlm method clears the override of a telmetry point in the Command and Telemetry Server.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">normalize_tlm</span><span class="p">(</span><span class="s2">"&lt;Target&gt; &lt;Packet&gt; &lt;Item&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target</td>
      <td>Target name</td>
    </tr>
    <tr>
      <td>Packet</td>
      <td>Packet name</td>
    </tr>
    <tr>
      <td>Item</td>
      <td>Item name</td>
    </tr>
    <tr>
      <td>type:</td>
      <td>Type to normalize, :ALL (default), :RAW, :CONVERTED, :FORMATTED, :WITH_UNITS</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">normalize_tlm</span><span class="p">(</span><span class="s2">"INST HEALTH_STATUS TEMP1"</span><span class="p">)</span> <span class="c1"># clear all overrides</span>
<span class="n">normalize_tlm</span><span class="p">(</span><span class="s2">"INST HEALTH_STATUS TEMP1"</span><span class="p">,</span> <span class="ss">type: :RAW</span><span class="p">)</span> <span class="c1"># clear only the :RAW override</span>
</code></pre></div></div>

<h2 id="packet-data-subscriptions">
<a class="anchor" href="#packet-data-subscriptions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Packet Data Subscriptions</h2>

<p>Methods for subscribing to specific packets of data. This provides an interface to ensure that each telemetry packet is received and handled rather than relying on polling where some data may be missed.</p>

<h3 id="subscribe_packets-since-500">
<a class="anchor" href="#subscribe_packets-since-500" aria-hidden="true"><span class="octicon octicon-link"></span></a>subscribe_packets (since 5.0.0)</h3>

<p>The subscribe_packets method allows the user to listen for one or more telemetry packets of data to arrive. A unique id is returned which is used to retrieve the data.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">subscribe_packets</span><span class="p">(</span><span class="n">packets</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>packets</td>
      <td>Nested array of target name/packet name pairs that the user wishes to subscribe to.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">id</span> <span class="o">=</span> <span class="n">subscribe_packets</span><span class="p">([[</span><span class="s1">'INST'</span><span class="p">,</span> <span class="s1">'HEALTH_STATUS'</span><span class="p">],</span> <span class="p">[</span><span class="s1">'INST'</span><span class="p">,</span> <span class="s1">'ADCS'</span><span class="p">]])</span>
</code></pre></div></div>

<h3 id="get_packet-modified-in-500">
<a class="anchor" href="#get_packet-modified-in-500" aria-hidden="true"><span class="octicon octicon-link"></span></a>get_packet (modified in 5.0.0)</h3>

<p>Streams packet data from a previous subscription.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">get_packet</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">packet</span><span class="o">|</span>
  <span class="nb">puts</span> <span class="n">packet</span><span class="p">[</span><span class="s1">'target_name'</span><span class="p">]</span>
  <span class="nb">puts</span> <span class="n">packet</span><span class="p">[</span><span class="s1">'packet_name'</span><span class="p">]</span>
  <span class="c1"># Many other fields</span>
<span class="k">end</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>id</td>
      <td>Unique id returned by subscribe_packets</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">id</span> <span class="o">=</span> <span class="n">subscribe_packets</span><span class="p">([[</span><span class="s1">'INST'</span><span class="p">,</span> <span class="s1">'HEALTH_STATUS'</span><span class="p">],</span> <span class="p">[</span><span class="s1">'INST'</span><span class="p">,</span> <span class="s1">'ADCS'</span><span class="p">]])</span>
<span class="n">get_packet</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">packet</span><span class="o">|</span>
  <span class="nb">puts</span> <span class="n">packet</span><span class="p">[</span><span class="s1">'target_name'</span><span class="p">]</span>
  <span class="nb">puts</span> <span class="n">packet</span><span class="p">[</span><span class="s1">'packet_name'</span><span class="p">]</span>
  <span class="c1"># Many other fields</span>
<span class="k">end</span>
</code></pre></div></div>

<h2 id="delays">
<a class="anchor" href="#delays" aria-hidden="true"><span class="octicon octicon-link"></span></a>Delays</h2>

<p>These methods allow the user to pause the script to wait for telemetry to change or for an amount of time to pass.</p>

<h3 id="wait">
<a class="anchor" href="#wait" aria-hidden="true"><span class="octicon octicon-link"></span></a>wait</h3>

<p>The wait method pauses the script for a configurable amount of time (minimum 10ms) or until a converted telemetry item meets given criteria. It supports three different syntaxes as shown. If no parameters are given then an infinite wait occurs until the user presses Go. Note that on a timeout, wait does not stop the script, usually wait_check is a better choice.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">wait</span><span class="p">()</span>
<span class="n">wait</span><span class="p">(</span><span class="o">&lt;</span><span class="no">Time</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Time</td>
      <td>Time in Seconds to delay for.</td>
    </tr>
  </tbody>
</table>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">wait</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt; &lt;Packet Name&gt; &lt;Item Name&gt; &lt;Comparison&gt;"</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Timeout</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Polling</span> <span class="no">Rate</span> <span class="p">(</span><span class="n">optional</span><span class="p">)</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target of the telemetry item.</td>
    </tr>
    <tr>
      <td>Packet Name</td>
      <td>Name of the telemetry packet of the telemetry item.</td>
    </tr>
    <tr>
      <td>Item Name</td>
      <td>Name of the telemetry item.</td>
    </tr>
    <tr>
      <td>Comparison</td>
      <td>A comparison to perform against the telemetry item.</td>
    </tr>
    <tr>
      <td>Timeout</td>
      <td>Timeout in seconds. Script will proceed if the wait statement times out waiting for the comparison to be true.</td>
    </tr>
    <tr>
      <td>Polling Rate</td>
      <td>How often the comparison is evaluated in seconds. Defaults to 0.25 if not specified.</td>
    </tr>
  </tbody>
</table>

<p>Examples:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">wait</span><span class="p">()</span>
<span class="n">wait</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">wait</span><span class="p">(</span><span class="s2">"INST HEALTH_STATUS COLLECTS == 3"</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="wait_raw">
<a class="anchor" href="#wait_raw" aria-hidden="true"><span class="octicon octicon-link"></span></a>wait_raw</h3>

<p>The wait_raw method pauses the script for a configurable amount of time or until a raw telemetry item meets given criteria. It supports two different syntaxes as shown. If no parameters are given then an infinite wait occurs until the user presses Go. Note that on a timeout, wait_raw does not stop the script, usually wait_check_raw is a better choice.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">wait_raw</span><span class="p">(</span><span class="o">&lt;</span><span class="no">Time</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Time</td>
      <td>Time in Seconds to delay for.</td>
    </tr>
  </tbody>
</table>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">wait_raw</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt; &lt;Packet Name&gt; &lt;Item Name&gt; &lt;Comparison&gt;"</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Timeout</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Polling</span> <span class="no">Rate</span> <span class="p">(</span><span class="n">optional</span><span class="p">)</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target of the telemetry item.</td>
    </tr>
    <tr>
      <td>Packet Name</td>
      <td>Name of the telemetry packet of the telemetry item.</td>
    </tr>
    <tr>
      <td>Item Name</td>
      <td>Name of the telemetry item.</td>
    </tr>
    <tr>
      <td>Comparison</td>
      <td>A comparison to perform against the telemetry item.</td>
    </tr>
    <tr>
      <td>Timeout</td>
      <td>Timeout in seconds. Script will proceed if the wait statement times out waiting for the comparison to be true.</td>
    </tr>
    <tr>
      <td>Polling Rate</td>
      <td>How often the comparison is evaluated in seconds. Defaults to 0.25 if not specified.</td>
    </tr>
  </tbody>
</table>

<p>Examples:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">wait_raw</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">wait_raw</span><span class="p">(</span><span class="s2">"INST HEALTH_STATUS COLLECTS == 3"</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="wait_tolerance">
<a class="anchor" href="#wait_tolerance" aria-hidden="true"><span class="octicon octicon-link"></span></a>wait_tolerance</h3>

<p>The wait_tolerance method pauses the script for a configurable amount of time or until a converted telemetry item meets equals an expected value within a tolerance. Note that on a timeout, wait_tolerance does not stop the script, usually wait_check_tolerance is a better choice.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">wait_tolerance</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt; &lt;Packet Name&gt; &lt;Item Name&gt;"</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Expected</span> <span class="no">Value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Tolerance</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Timeout</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Polling</span> <span class="no">Rate</span> <span class="p">(</span><span class="n">optional</span><span class="p">)</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target of the telemetry item.</td>
    </tr>
    <tr>
      <td>Packet Name</td>
      <td>Name of the telemetry packet of the telemetry item.</td>
    </tr>
    <tr>
      <td>Item Name</td>
      <td>Name of the telemetry item.</td>
    </tr>
    <tr>
      <td>Expected Value</td>
      <td>Expected value of the telemetry item.</td>
    </tr>
    <tr>
      <td>Tolerance</td>
      <td>± Tolerance on the expected value.</td>
    </tr>
    <tr>
      <td>Timeout</td>
      <td>Timeout in seconds. Script will proceed if the wait statement times out waiting for the comparison to be true.</td>
    </tr>
    <tr>
      <td>Polling Rate</td>
      <td>How often the comparison is evaluated in seconds. Defaults to 0.25 if not specified.</td>
    </tr>
  </tbody>
</table>

<p>Examples:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">wait_tolerance</span><span class="p">(</span><span class="s2">"INST HEALTH_STATUS COLLECTS"</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="wait_tolerance_raw">
<a class="anchor" href="#wait_tolerance_raw" aria-hidden="true"><span class="octicon octicon-link"></span></a>wait_tolerance_raw</h3>

<p>The wait_tolerance_raw method pauses the script for a configurable amount of time or until a raw telemetry item meets equals an expected value within a tolerance. Note that on a timeout, wait_tolerance_raw does not stop the script, usually wait_check_tolerance_raw is a better choice.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">wait_tolerance_raw</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt; &lt;Packet Name&gt; &lt;Item Name&gt;"</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Expected</span> <span class="no">Value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Tolerance</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Timeout</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Polling</span> <span class="no">Rate</span> <span class="p">(</span><span class="n">optional</span><span class="p">)</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target of the telemetry item.</td>
    </tr>
    <tr>
      <td>Packet Name</td>
      <td>Name of the telemetry packet of the telemetry item.</td>
    </tr>
    <tr>
      <td>Item Name</td>
      <td>Name of the telemetry item.</td>
    </tr>
    <tr>
      <td>Expected Value</td>
      <td>Expected value of the telemetry item.</td>
    </tr>
    <tr>
      <td>Tolerance</td>
      <td>± Tolerance on the expected value.</td>
    </tr>
    <tr>
      <td>Timeout</td>
      <td>Timeout in seconds. Script will proceed if the wait statement times out waiting for the comparison to be true.</td>
    </tr>
    <tr>
      <td>Polling Rate</td>
      <td>How often the comparison is evaluated in seconds. Defaults to 0.25 if not specified.</td>
    </tr>
  </tbody>
</table>

<p>Examples:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">wait_tolerance_raw</span><span class="p">(</span><span class="s2">"INST HEALTH_STATUS COLLECTS"</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="wait_expression">
<a class="anchor" href="#wait_expression" aria-hidden="true"><span class="octicon octicon-link"></span></a>wait_expression</h3>

<p>The wait_expression method pauses the script until an expression is evaluated to be true or a timeout occurs. If a timeout occurs the script will continue. This method can be used to perform more complicated comparisons than using wait as shown in the example. Note that on a timeout, wait_expression does not stop the script, usually <a href="#waitcheckexpression">wait_check_expression</a> is a better choice.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">wait_expression</span><span class="p">(</span><span class="s2">"&lt;Expression&gt;"</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Timeout</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Polling</span> <span class="no">Rate</span> <span class="p">(</span><span class="n">optional</span><span class="p">)</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Expression</td>
      <td>A ruby expression to evaluate.</td>
    </tr>
    <tr>
      <td>Timeout</td>
      <td>Timeout in seconds. Script will proceed if the wait statement times out waiting for the comparison to be true.</td>
    </tr>
    <tr>
      <td>Polling Rate</td>
      <td>How often the comparison is evaluated in seconds. Defaults to 0.25 if not specified.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">wait_expression</span><span class="p">(</span><span class="s2">"tlm('INST HEALTH_STATUS COLLECTS') &gt; 5 and tlm('INST HEALTH_STATUS TEMP1') &gt; 25.0"</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="wait_packet">
<a class="anchor" href="#wait_packet" aria-hidden="true"><span class="octicon octicon-link"></span></a>wait_packet</h3>

<p>The wait_packet method pauses the script until a certain number of packets have been received. If a timeout occurs the script will continue. Note that on a timeout, wait_packet does not stop the script, usually wait_check_packet is a better choice.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">wait_packet</span><span class="p">(</span><span class="s2">"&lt;Target&gt;"</span><span class="p">,</span> <span class="s2">"&lt;Packet&gt;"</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Num</span> <span class="no">Packets</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Timeout</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Polling</span> <span class="no">Rate</span> <span class="p">(</span><span class="n">optional</span><span class="p">)</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target</td>
      <td>The target name</td>
    </tr>
    <tr>
      <td>Packet</td>
      <td>The packet name</td>
    </tr>
    <tr>
      <td>Num Packets</td>
      <td>The number of packets to receive</td>
    </tr>
    <tr>
      <td>Timeout</td>
      <td>Timeout in seconds.</td>
    </tr>
    <tr>
      <td>Polling Rate</td>
      <td>How often the comparison is evaluated in seconds. Defaults to 0.25 if not specified.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">wait_packet</span><span class="p">(</span><span class="s1">'INST'</span><span class="p">,</span> <span class="s1">'HEALTH_STATUS'</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="c1"># Wait for 5 INST HEALTH_STATUS packets over 10s</span>
</code></pre></div></div>

<h3 id="wait_check">
<a class="anchor" href="#wait_check" aria-hidden="true"><span class="octicon octicon-link"></span></a>wait_check</h3>

<p>The wait_check method combines the wait and check keywords into one. This pauses the script until the converted value of a telemetry item meets given criteria or times out. On a timeout the script stops.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">wait_check</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt; &lt;Packet Name&gt; &lt;Item Name&gt; &lt;Comparison&gt;"</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Timeout</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Polling</span> <span class="no">Rate</span> <span class="p">(</span><span class="n">optional</span><span class="p">)</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target of the telemetry item.</td>
    </tr>
    <tr>
      <td>Packet Name</td>
      <td>Name of the telemetry packet of the telemetry item.</td>
    </tr>
    <tr>
      <td>Item Name</td>
      <td>Name of the telemetry item.</td>
    </tr>
    <tr>
      <td>Comparison</td>
      <td>A comparison to perform against the telemetry item.</td>
    </tr>
    <tr>
      <td>Timeout</td>
      <td>Timeout in seconds. Script will stop if the wait statement times out waiting for the comparison to be true.</td>
    </tr>
    <tr>
      <td>Polling Rate</td>
      <td>How often the comparison is evaluated in seconds. Defaults to 0.25 if not specified.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">wait_check</span><span class="p">(</span><span class="s2">"INST HEALTH_STATUS COLLECTS &gt; 5"</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="wait_check_raw">
<a class="anchor" href="#wait_check_raw" aria-hidden="true"><span class="octicon octicon-link"></span></a>wait_check_raw</h3>

<p>The wait_check_raw method combines the wait_raw and check_raw keywords into one. This pauses the script until the raw value of a telemetry item meets given criteria or times out. On a timeout the script stops.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">wait_check_raw</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt; &lt;Packet Name&gt; &lt;Item Name&gt; &lt;Comparison&gt;"</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Timeout</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Polling</span> <span class="no">Rate</span> <span class="p">(</span><span class="n">optional</span><span class="p">)</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target of the telemetry item.</td>
    </tr>
    <tr>
      <td>Packet Name</td>
      <td>Name of the telemetry packet of the telemetry item.</td>
    </tr>
    <tr>
      <td>Item Name</td>
      <td>Name of the telemetry item.</td>
    </tr>
    <tr>
      <td>Comparison</td>
      <td>A comparison to perform against the telemetry item.</td>
    </tr>
    <tr>
      <td>Timeout</td>
      <td>Timeout in seconds. Script will stop if the wait statement times out waiting for the comparison to be true.</td>
    </tr>
    <tr>
      <td>Polling Rate</td>
      <td>How often the comparison is evaluated in seconds. Defaults to 0.25 if not specified.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">wait_check_raw</span><span class="p">(</span><span class="s2">"INST HEALTH_STATUS COLLECTS &gt; 5"</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="wait_check_tolerance">
<a class="anchor" href="#wait_check_tolerance" aria-hidden="true"><span class="octicon octicon-link"></span></a>wait_check_tolerance</h3>

<p>The wait_check_tolerance method pauses the script for a configurable amount of time or until a converted telemetry item equals an expected value within a tolerance. On a timeout the script stops.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">wait_check_tolerance</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt; &lt;Packet Name&gt; &lt;Item Name&gt;"</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Expected</span> <span class="no">Value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Tolerance</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Timeout</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Polling</span> <span class="no">Rate</span> <span class="p">(</span><span class="n">optional</span><span class="p">)</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target of the telemetry item.</td>
    </tr>
    <tr>
      <td>Packet Name</td>
      <td>Name of the telemetry packet of the telemetry item.</td>
    </tr>
    <tr>
      <td>Item Name</td>
      <td>Name of the telemetry item.</td>
    </tr>
    <tr>
      <td>Expected Value</td>
      <td>Expected value of the telemetry item.</td>
    </tr>
    <tr>
      <td>Tolerance</td>
      <td>± Tolerance on the expected value.</td>
    </tr>
    <tr>
      <td>Timeout</td>
      <td>Timeout in seconds. Script will stop if the wait statement times out waiting for the comparison to be true.</td>
    </tr>
    <tr>
      <td>Polling Rate</td>
      <td>How often the comparison is evaluated in seconds. Defaults to 0.25 if not specified.</td>
    </tr>
  </tbody>
</table>

<p>Examples:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">wait_check_tolerance</span><span class="p">(</span><span class="s2">"INST HEALTH_STATUS COLLECTS"</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="wait_check_tolerance_raw">
<a class="anchor" href="#wait_check_tolerance_raw" aria-hidden="true"><span class="octicon octicon-link"></span></a>wait_check_tolerance_raw</h3>

<p>The wait_check_tolerance_raw method pauses the script for a configurable amount of time or until a raw telemetry item meets equals an expected value within a tolerance. On a timeout the script stops.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">wait_check_tolerance_raw</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt; &lt;Packet Name&gt; &lt;Item Name&gt;"</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Expected</span> <span class="no">Value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Tolerance</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Timeout</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Polling</span> <span class="no">Rate</span> <span class="p">(</span><span class="n">optional</span><span class="p">)</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target of the telemetry item.</td>
    </tr>
    <tr>
      <td>Packet Name</td>
      <td>Name of the telemetry packet of the telemetry item.</td>
    </tr>
    <tr>
      <td>Item Name</td>
      <td>Name of the telemetry item.</td>
    </tr>
    <tr>
      <td>Expected Value</td>
      <td>Expected value of the telemetry item.</td>
    </tr>
    <tr>
      <td>Tolerance</td>
      <td>± Tolerance on the expected value.</td>
    </tr>
    <tr>
      <td>Timeout</td>
      <td>Timeout in seconds. Script will stop if the wait statement times out waiting for the comparison to be true.</td>
    </tr>
    <tr>
      <td>Polling Rate</td>
      <td>How often the comparison is evaluated in seconds. Defaults to 0.25 if not specified.</td>
    </tr>
  </tbody>
</table>

<p>Examples:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">wait_check_tolerance_raw</span><span class="p">(</span><span class="s2">"INST HEALTH_STATUS COLLECTS"</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="wait_check_expression">
<a class="anchor" href="#wait_check_expression" aria-hidden="true"><span class="octicon octicon-link"></span></a>wait_check_expression</h3>

<p>The wait_check_expression method pauses the script until an expression is evaluated to be true or a timeout occurs. If a timeout occurs the script will stop. This method can be used to perform more complicated comparisons than using wait as shown in the example. Also see the syntax notes for <a href="#checkexpression">check_expression</a>.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">wait_check_expression</span><span class="p">(</span><span class="s2">"&lt;Expression&gt;"</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Timeout</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Polling</span> <span class="no">Rate</span> <span class="p">(</span><span class="n">optional</span><span class="p">)</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Expression</td>
      <td>A ruby expression to evaluate.</td>
    </tr>
    <tr>
      <td>Timeout</td>
      <td>Timeout in seconds. Script will stop if the wait statement times out waiting for the comparison to be true.</td>
    </tr>
    <tr>
      <td>Polling Rate</td>
      <td>How often the comparison is evaluated in seconds. Defaults to 0.25 if not specified.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">wait_check_expression</span><span class="p">(</span><span class="s2">"tlm('INST HEALTH_STATUS COLLECTS') &gt; 5 and tlm('INST HEALTH_STATUS TEMP1') &gt; 25.0"</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="wait_check_packet">
<a class="anchor" href="#wait_check_packet" aria-hidden="true"><span class="octicon octicon-link"></span></a>wait_check_packet</h3>

<p>The wait_check_packet method pauses the script until a certain number of packets have been received. If a timeout occurs the script will stop.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">wait_check_packet</span><span class="p">(</span><span class="s2">"&lt;Target&gt;"</span><span class="p">,</span> <span class="s2">"&lt;Packet&gt;"</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Num</span> <span class="no">Packets</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Timeout</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Polling</span> <span class="no">Rate</span> <span class="p">(</span><span class="n">optional</span><span class="p">)</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target</td>
      <td>The target name</td>
    </tr>
    <tr>
      <td>Packet</td>
      <td>The packet name</td>
    </tr>
    <tr>
      <td>Num Packets</td>
      <td>The number of packets to receive</td>
    </tr>
    <tr>
      <td>Timeout</td>
      <td>Timeout in seconds. Script will stop if the wait statement times out waiting specified number of packets.</td>
    </tr>
    <tr>
      <td>Polling Rate</td>
      <td>How often the comparison is evaluated in seconds. Defaults to 0.25 if not specified.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">wait_check_packet</span><span class="p">(</span><span class="s1">'INST'</span><span class="p">,</span> <span class="s1">'HEALTH_STATUS'</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="c1"># Wait for 5 INST HEALTH_STATUS packets over 10s</span>
</code></pre></div></div>

<h2 id="limits">
<a class="anchor" href="#limits" aria-hidden="true"><span class="octicon octicon-link"></span></a>Limits</h2>

<div class="note unreleased">
  <p>Limits API not fully implemented in COSMOS 5</p>
</div>

<p>These methods deal with handling telemetry limits.</p>

<h3 id="limits_enabled">
<a class="anchor" href="#limits_enabled" aria-hidden="true"><span class="octicon octicon-link"></span></a>limits_enabled?</h3>

<p>The limits_enabled? method returns true/false depending on whether limits are enabled for a telemetry item.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">limits_enabled?</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt; &lt;Packet Name&gt; &lt;Item Name&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target of the telemetry item.</td>
    </tr>
    <tr>
      <td>Packet Name</td>
      <td>Name of the telemetry packet of the telemetry item.</td>
    </tr>
    <tr>
      <td>Item Name</td>
      <td>Name of the telemetry item.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">enabled</span> <span class="o">=</span> <span class="n">limits_enabled?</span><span class="p">(</span><span class="s2">"INST HEALTH_STATUS TEMP1"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="enable_limits">
<a class="anchor" href="#enable_limits" aria-hidden="true"><span class="octicon octicon-link"></span></a>enable_limits</h3>

<p>The enable_limits method enables limits monitoring for the specified telemetry item.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">enable_limits</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt; &lt;Packet Name&gt; &lt;Item Name&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target of the telemetry item.</td>
    </tr>
    <tr>
      <td>Packet Name</td>
      <td>Name of the telemetry packet of the telemetry item.</td>
    </tr>
    <tr>
      <td>Item Name</td>
      <td>Name of the telemetry item.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">enable_limits</span><span class="p">(</span><span class="s2">"INST HEALTH_STATUS TEMP1"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="disable_limits">
<a class="anchor" href="#disable_limits" aria-hidden="true"><span class="octicon octicon-link"></span></a>disable_limits</h3>

<p>The disable_limits method disables limits monitoring for the specified telemetry item.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">disable_limits</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt; &lt;Packet Name&gt; &lt;Item Name&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target of the telemetry item.</td>
    </tr>
    <tr>
      <td>Packet Name</td>
      <td>Name of the telemetry packet of the telemetry item.</td>
    </tr>
    <tr>
      <td>Item Name</td>
      <td>Name of the telemetry item.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">disable_limits</span><span class="p">(</span><span class="s2">"INST HEALTH_STATUS TEMP1"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="enable_limits_group">
<a class="anchor" href="#enable_limits_group" aria-hidden="true"><span class="octicon octicon-link"></span></a>enable_limits_group</h3>

<p>The enable_limits_group method enables limits monitoring on a set of telemetry items specified in a limits group.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">enable_limits_group</span><span class="p">(</span><span class="s2">"&lt;Limits Group Name&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Limits Group Name</td>
      <td>Name of the limits group.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">enable_limits_group</span><span class="p">(</span><span class="s2">"SAFE_MODE"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="disable_limits_group">
<a class="anchor" href="#disable_limits_group" aria-hidden="true"><span class="octicon octicon-link"></span></a>disable_limits_group</h3>

<p>The disable_limits_group method disables limits monitoring on a set of telemetry items specified in a limits group.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">disable_limits_group</span><span class="p">(</span><span class="s2">"&lt;Limits Group Name&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Limits Group Name</td>
      <td>Name of the limits group.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">disable_limits_group</span><span class="p">(</span><span class="s2">"SAFE_MODE"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="get_limits_groups">
<a class="anchor" href="#get_limits_groups" aria-hidden="true"><span class="octicon octicon-link"></span></a>get_limits_groups</h3>

<p>The get_limits_groups method returns the list of limits groups in the system.</p>

<p>Syntax / Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">limits_groups</span> <span class="o">=</span> <span class="n">get_limits_groups</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="set_limits_set">
<a class="anchor" href="#set_limits_set" aria-hidden="true"><span class="octicon octicon-link"></span></a>set_limits_set</h3>

<p>The set_limits_set method sets the current limits set. The default limits set is :DEFAULT.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">set_limits_set</span><span class="p">(</span><span class="s2">"&lt;Limits Set Name&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Limits Set Name</td>
      <td>Name of the limits set.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">set_limits_set</span><span class="p">(</span><span class="s2">"DEFAULT"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="get_limits_set">
<a class="anchor" href="#get_limits_set" aria-hidden="true"><span class="octicon octicon-link"></span></a>get_limits_set</h3>

<p>The get_limits_set method returns the name of the current limits set. The default limits set is :DEFAULT.</p>

<p>Syntax / Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">limits_set</span> <span class="o">=</span> <span class="n">get_limits_set</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="get_limits_sets">
<a class="anchor" href="#get_limits_sets" aria-hidden="true"><span class="octicon octicon-link"></span></a>get_limits_sets</h3>

<p>The get_limits_sets method returns the list of limits sets in the system.</p>

<p>Syntax / Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">limits_sets</span> <span class="o">=</span> <span class="n">get_limits_sets</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="get_limits">
<a class="anchor" href="#get_limits" aria-hidden="true"><span class="octicon octicon-link"></span></a>get_limits</h3>

<p>The get_limits method returns limits settings for a telemetry point.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">get_limits</span><span class="p">(</span><span class="o">&lt;</span><span class="no">Target</span> <span class="no">Name</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Packet</span> <span class="no">Name</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Item</span> <span class="no">Name</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Limits</span> <span class="no">Set</span> <span class="p">(</span><span class="n">optional</span><span class="p">)</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target of the telemetry item.</td>
    </tr>
    <tr>
      <td>Packet Name</td>
      <td>Name of the telemetry packet of the telemetry item.</td>
    </tr>
    <tr>
      <td>Item Name</td>
      <td>Name of the telemetry item.</td>
    </tr>
    <tr>
      <td>Limits Set</td>
      <td>Get the limits for a specific limits set. If not given then it defaults to returning the settings for the current limits set.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">limits_set</span><span class="p">,</span> <span class="n">persistence_setting</span><span class="p">,</span> <span class="n">enabled</span><span class="p">,</span> <span class="n">red_low</span><span class="p">,</span> <span class="n">yellow_low</span><span class="p">,</span> <span class="n">yellow_high</span><span class="p">,</span> <span class="n">red_high</span><span class="p">,</span> <span class="n">green_low</span><span class="p">,</span> <span class="n">green_high</span> <span class="o">=</span> <span class="n">get_limits</span><span class="p">(</span><span class="s1">'INST'</span><span class="p">,</span> <span class="s1">'HEALTH_STATUS'</span><span class="p">,</span> <span class="s1">'TEMP1'</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="set_limits">
<a class="anchor" href="#set_limits" aria-hidden="true"><span class="octicon octicon-link"></span></a>set_limits</h3>

<p>The set_limits_method sets limits settings for a telemetry point. Note: In most cases it would be better to update your config files or use different limits sets rather than changing limits settings in realtime.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">set_limits</span><span class="p">(</span><span class="o">&lt;</span><span class="no">Target</span> <span class="no">Name</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Packet</span> <span class="no">Name</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Item</span> <span class="no">Name</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Red</span> <span class="no">Low</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Yellow</span> <span class="no">Low</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Yellow</span> <span class="no">High</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Red</span> <span class="no">High</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Green</span> <span class="no">Low</span> <span class="p">(</span><span class="n">optional</span><span class="p">)</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Green</span> <span class="no">High</span> <span class="p">(</span><span class="n">optional</span><span class="p">)</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Limits</span> <span class="no">Set</span> <span class="p">(</span><span class="n">optional</span><span class="p">)</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Persistence</span> <span class="p">(</span><span class="n">optional</span><span class="p">)</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Enabled</span> <span class="p">(</span><span class="n">optional</span><span class="p">)</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target of the telemetry item.</td>
    </tr>
    <tr>
      <td>Packet Name</td>
      <td>Name of the telemetry packet of the telemetry item.</td>
    </tr>
    <tr>
      <td>Item Name</td>
      <td>Name of the telemetry item.</td>
    </tr>
    <tr>
      <td>Red Low</td>
      <td>Red Low setting for this limits set. Any value below this value will be make the item red.</td>
    </tr>
    <tr>
      <td>Yellow Low</td>
      <td>Yellow Low setting for this limits set. Any value below this value but greater than Red Low will be make the item yellow.</td>
    </tr>
    <tr>
      <td>Yellow High</td>
      <td>Yellow High setting for this limits set. Any value above this value but less than Red High will be make the item yellow.</td>
    </tr>
    <tr>
      <td>Red High</td>
      <td>Red High setting for this limits set. Any value above this value will be make the item red.</td>
    </tr>
    <tr>
      <td>Green Low</td>
      <td>Optional. If given, any value greater than Green Low and less than Green_High will make the item blue indicating a good operational value.</td>
    </tr>
    <tr>
      <td>Green High</td>
      <td>Optional. If given, any value greater than Green Low and less than Green_High will make the item blue indicating a good operational value.</td>
    </tr>
    <tr>
      <td>Limits Set</td>
      <td>Optional. Set the limits for a specific limits set. If not given then it defaults to setting limts for the :CUSTOM limits set.</td>
    </tr>
    <tr>
      <td>Persistence</td>
      <td>Optional. Set the number of samples this item must be out of limits before changing limits state. Defaults to no change. Note: This affects all limits settings across limits sets.</td>
    </tr>
    <tr>
      <td>Enabled</td>
      <td>Optional. Whether or not limits are enabled for this item. Defaults to true. Note: This affects all limits settings across limits sets.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">set_limits</span><span class="p">(</span><span class="s1">'INST'</span><span class="p">,</span> <span class="s1">'HEALTH_STATUS'</span><span class="p">,</span> <span class="s1">'TEMP1'</span><span class="p">,</span> <span class="o">-</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">50.0</span><span class="p">,</span> <span class="mf">60.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">40.0</span><span class="p">,</span> <span class="ss">:TVAC</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="kp">true</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="get_out_of_limits">
<a class="anchor" href="#get_out_of_limits" aria-hidden="true"><span class="octicon octicon-link"></span></a>get_out_of_limits</h3>

<p>The get_out_of_limits method returns an array with the target_name, packet_name, item_name, and limits_state of all items that are out of their limits ranges.</p>

<p>Syntax / Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">out_of_limits_items</span> <span class="o">=</span> <span class="n">get_out_of_limits</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="get_overall_limits_state">
<a class="anchor" href="#get_overall_limits_state" aria-hidden="true"><span class="octicon octicon-link"></span></a>get_overall_limits_state</h3>

<p>The get_overall_limits_state method returns the overall limits state for the COSMOS system. Returns :GREEN, :YELLOW, :RED, or :STALE.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">get_overall_limits_state</span><span class="p">(</span><span class="o">&lt;</span><span class="n">ignored_items</span><span class="o">&gt;</span> <span class="p">(</span><span class="n">optional</span><span class="p">))</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Ignored Items</td>
      <td>Array of arrays with items to ignore when determining the overall limits state. [[‘TARGET_NAME’, ‘PACKET_NAME’, ‘ITEM_NAME’], …]</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">overall_limits_state</span> <span class="o">=</span> <span class="n">get_overall_limits_state</span><span class="p">()</span>
<span class="n">overall_limits_state</span> <span class="o">=</span> <span class="n">get_overall_limits_state</span><span class="p">([[</span><span class="s1">'INST'</span><span class="p">,</span> <span class="s1">'HEALTH_STATUS'</span><span class="p">,</span> <span class="s1">'TEMP1'</span><span class="p">]])</span>
</code></pre></div></div>

<h3 id="get_stale">
<a class="anchor" href="#get_stale" aria-hidden="true"><span class="octicon octicon-link"></span></a>get_stale</h3>

<p>The get_stale method returns a list of stale packets. The return value is an array of arrays where each subarray contains the target name and packet name for a stale packet.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">get_stale</span><span class="p">(</span><span class="ss">with_limits_only: </span><span class="kp">false</span><span class="p">,</span> <span class="ss">target_name: </span><span class="kp">nil</span><span class="p">,</span> <span class="ss">staleness_sec: </span><span class="mi">30</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>with_limits_only:</td>
      <td>If true, return only the packets that have limits items and thus affect the overall limits state of the system. Defaults to false.</td>
    </tr>
    <tr>
      <td>target_name:</td>
      <td>If specified, return only the packets associated with the given target. Defaults to nil.</td>
    </tr>
    <tr>
      <td>staleness_sec:</td>
      <td>Return packets that haven’t been received since X seconds ago. Defaults to 30.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">stale_packets</span> <span class="o">=</span> <span class="n">get_stale</span><span class="p">()</span>
<span class="n">stale_packets</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">target</span><span class="p">,</span> <span class="n">packet</span><span class="o">|</span>
  <span class="nb">puts</span> <span class="s2">"Stale packet: </span><span class="si">#{</span><span class="n">target</span><span class="si">}</span><span class="s2"> </span><span class="si">#{</span><span class="n">packet</span><span class="si">}</span><span class="s2">"</span>
<span class="k">end</span>
<span class="n">inst_stale_packets</span> <span class="o">=</span> <span class="n">get_stale</span><span class="p">(</span><span class="ss">target_name: </span><span class="s2">"INST"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="get_limits_events">
<a class="anchor" href="#get_limits_events" aria-hidden="true"><span class="octicon octicon-link"></span></a>get_limits_events</h3>

<p>The get_limits_events method returns limits events based on an offset returned from the last time it was called.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">get_limits_event</span><span class="p">(</span><span class="n">offset</span><span class="p">,</span> <span class="ss">count: </span><span class="mi">100</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>offset</td>
      <td>Offset returned by the previous call to get_limits_event. Default is nil for the initial call</td>
    </tr>
    <tr>
      <td>count:</td>
      <td>Maximum number of limits events to return. Default is 100</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">events</span> <span class="o">=</span> <span class="n">get_limits_event</span><span class="p">()</span>
<span class="n">pp</span> <span class="n">events</span>
<span class="c1">#[["1613077715557-0",</span>
<span class="c1">#  {"type"=&gt;"LIMITS_CHANGE",</span>
<span class="c1">#   "target_name"=&gt;"TGT",</span>
<span class="c1">#   "packet_name"=&gt;"PKT",</span>
<span class="c1">#   "item_name"=&gt;"ITEM",</span>
<span class="c1">#   "old_limits_state"=&gt;"YELLOW_LOW",</span>
<span class="c1">#   "new_limits_state"=&gt;"RED_LOW",</span>
<span class="c1">#   "time_nsec"=&gt;"1",</span>
<span class="c1">#   "message"=&gt;"message"}],</span>
<span class="c1"># ["1613077715557-1",</span>
<span class="c1">#  {"type"=&gt;"LIMITS_CHANGE",</span>
<span class="c1">#   "target_name"=&gt;"TGT",</span>
<span class="c1">#   "packet_name"=&gt;"PKT",</span>
<span class="c1">#   "item_name"=&gt;"ITEM",</span>
<span class="c1">#   "old_limits_state"=&gt;"RED_LOW",</span>
<span class="c1">#   "new_limits_state"=&gt;"YELLOW_LOW",</span>
<span class="c1">#   "time_nsec"=&gt;"2",</span>
<span class="c1">#   "message"=&gt;"message"}]]</span>
<span class="c1"># The last offset is the first item ([0]) in the last event ([-1])</span>
<span class="n">events</span> <span class="o">=</span> <span class="n">get_limits_event</span><span class="p">(</span><span class="n">events</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
<span class="n">pp</span> <span class="n">events</span>
<span class="c1">#[["1613077715657-0",</span>
<span class="c1">#  {"type"=&gt;"LIMITS_CHANGE",</span>
<span class="c1">#   ...</span>
</code></pre></div></div>

<h2 id="targets">
<a class="anchor" href="#targets" aria-hidden="true"><span class="octicon octicon-link"></span></a>Targets</h2>

<p>Methods for getting knowledge about targets.</p>

<h3 id="get_target_list">
<a class="anchor" href="#get_target_list" aria-hidden="true"><span class="octicon octicon-link"></span></a>get_target_list</h3>

<p>The get_target_list method returns a list of the targets in the system in an array.</p>

<p>Syntax / Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">targets</span> <span class="o">=</span> <span class="n">get_target_list</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="get_target">
<a class="anchor" href="#get_target" aria-hidden="true"><span class="octicon octicon-link"></span></a>get_target</h3>

<p>The get_target method returns a target hash containing all the information about the target.</p>

<p>Syntax:
<code class="language-plaintext highlighter-rouge">get_target("&lt;Target Name&gt;")</code></p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">target</span> <span class="o">=</span> <span class="n">get_target</span><span class="p">(</span><span class="s2">"INST"</span><span class="p">)</span>
<span class="n">pp</span> <span class="n">target</span>
<span class="c1">#{"name"=&gt;"INST",</span>
<span class="c1"># "folder_name"=&gt;"INST",</span>
<span class="c1"># "requires"=&gt;[],</span>
<span class="c1"># "ignored_parameters"=&gt;</span>
<span class="c1">#  ["CCSDSVER",</span>
<span class="c1">#   "CCSDSTYPE",</span>
<span class="c1">#   "CCSDSSHF",</span>
<span class="c1">#   "CCSDSAPID",</span>
<span class="c1">#   "CCSDSSEQFLAGS",</span>
<span class="c1">#   "CCSDSSEQCNT",</span>
<span class="c1">#   "CCSDSLENGTH",</span>
<span class="c1">#   "PKTID"],</span>
<span class="c1"># "ignored_items"=&gt;</span>
<span class="c1">#  ["CCSDSVER",</span>
<span class="c1">#   "CCSDSTYPE",</span>
<span class="c1">#   "CCSDSSHF",</span>
<span class="c1">#   "CCSDSAPID",</span>
<span class="c1">#   "CCSDSSEQFLAGS",</span>
<span class="c1">#   "CCSDSSEQCNT",</span>
<span class="c1">#   "CCSDSLENGTH",</span>
<span class="c1">#   "RECEIVED_COUNT",</span>
<span class="c1">#   "RECEIVED_TIMESECONDS",</span>
<span class="c1">#   "RECEIVED_TIMEFORMATTED"],</span>
<span class="c1"># "limits_groups"=&gt;[],</span>
<span class="c1"># "cmd_tlm_files"=&gt;</span>
<span class="c1">#  [".../targets/INST/cmd_tlm/inst_cmds.txt",</span>
<span class="c1">#   ".../targets/INST/cmd_tlm/inst_tlm.txt"],</span>
<span class="c1"># "cmd_unique_id_mode"=&gt;false,</span>
<span class="c1"># "tlm_unique_id_mode"=&gt;false,</span>
<span class="c1"># "id"=&gt;nil,</span>
<span class="c1"># "updated_at"=&gt;1613077058266815900,</span>
<span class="c1"># "plugin"=&gt;nil}</span>
</code></pre></div></div>

<h3 id="get_all_target_info">
<a class="anchor" href="#get_all_target_info" aria-hidden="true"><span class="octicon octicon-link"></span></a>get_all_target_info</h3>

<p>The get_all_target_info method returns information about all targets. The return value is an array of arrays where each subarray contains the target name, interface name, command count, and telemetry count for a target.</p>

<p>Syntax / Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">target_info</span> <span class="o">=</span> <span class="n">get_all_target_info</span><span class="p">()</span>
<span class="n">target_info</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">target_name</span><span class="p">,</span> <span class="n">interface_name</span><span class="p">,</span> <span class="n">cmd_count</span><span class="p">,</span> <span class="n">tlm_count</span><span class="o">|</span>
  <span class="nb">puts</span> <span class="s2">"Target: </span><span class="si">#{</span><span class="n">target_name</span><span class="si">}</span><span class="s2">, Interface: </span><span class="si">#{</span><span class="n">interface_name</span><span class="si">}</span><span class="s2">, Cmd count: </span><span class="si">#{</span><span class="n">cmd_count</span><span class="si">}</span><span class="s2">, Tlm count: </span><span class="si">#{</span><span class="n">tlm_count</span><span class="si">}</span><span class="s2">"</span>
<span class="k">end</span>
</code></pre></div></div>

<h2 id="interfaces">
<a class="anchor" href="#interfaces" aria-hidden="true"><span class="octicon octicon-link"></span></a>Interfaces</h2>

<p>These methods allow the user to manipulate COSMOS interfaces.</p>

<h3 id="connect_interface">
<a class="anchor" href="#connect_interface" aria-hidden="true"><span class="octicon octicon-link"></span></a>connect_interface</h3>

<p>The connect_interface method connects to targets associated with a COSMOS interface.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">connect_interface</span><span class="p">(</span><span class="s2">"&lt;Interface Name&gt;"</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Interface</span> <span class="no">Parameters</span> <span class="p">(</span><span class="n">optional</span><span class="p">)</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Interface Name</td>
      <td>Name of the interface.</td>
    </tr>
    <tr>
      <td>Interface Parameters</td>
      <td>Parameters used to initialize the interface. If none are given then the interface will use the parameters that were given in the server configuration file.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">connect_interface</span><span class="p">(</span><span class="s2">"INT1"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="disconnect_interface">
<a class="anchor" href="#disconnect_interface" aria-hidden="true"><span class="octicon octicon-link"></span></a>disconnect_interface</h3>

<p>The disconnect_interface method disconnects from targets associated with a COSMOS interface.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">disconnect_interface</span><span class="p">(</span><span class="s2">"&lt;Interface Name&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Interface Name</td>
      <td>Name of the interface.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">disconnect_interface</span><span class="p">(</span><span class="s2">"INT1"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="get_interface_names">
<a class="anchor" href="#get_interface_names" aria-hidden="true"><span class="octicon octicon-link"></span></a>get_interface_names</h3>

<p>The get_interface_names method returns a list of the interfaces in the system in an array.</p>

<p>Syntax / Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">interface_names</span> <span class="o">=</span> <span class="n">get_interface_names</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="get_interface-since-500">
<a class="anchor" href="#get_interface-since-500" aria-hidden="true"><span class="octicon octicon-link"></span></a>get_interface (since 5.0.0)</h3>

<p>The get_interface method returns an interface status including the as built interface and its current status (cmd/tlm counters, etc).</p>

<p>Syntax:
<code class="language-plaintext highlighter-rouge">get_interface("&lt;Interface Name&gt;")</code></p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Interface Name</td>
      <td>Name of the interface.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">interface</span> <span class="o">=</span> <span class="n">get_interface</span><span class="p">(</span><span class="s2">"INST_INT"</span><span class="p">)</span>
<span class="n">pp</span> <span class="n">interface</span>
<span class="c1">#{"name"=&gt;"INST_INT",</span>
<span class="c1"># "config_params"=&gt;["interface.rb"],</span>
<span class="c1"># "target_names"=&gt;["INST"],</span>
<span class="c1"># "connect_on_startup"=&gt;true,</span>
<span class="c1"># "auto_reconnect"=&gt;true,</span>
<span class="c1"># "reconnect_delay"=&gt;5.0,</span>
<span class="c1"># "disable_disconnect"=&gt;false,</span>
<span class="c1"># "options"=&gt;[],</span>
<span class="c1"># "protocols"=&gt;[],</span>
<span class="c1"># "log"=&gt;true,</span>
<span class="c1"># "log_raw"=&gt;false,</span>
<span class="c1"># "plugin"=&gt;nil,</span>
<span class="c1"># "updated_at"=&gt;1613076213535979900,</span>
<span class="c1"># "state"=&gt;"CONNECTED",</span>
<span class="c1"># "clients"=&gt;0,</span>
<span class="c1"># "txsize"=&gt;0,</span>
<span class="c1"># "rxsize"=&gt;0,</span>
<span class="c1"># "txbytes"=&gt;0,</span>
<span class="c1"># "rxbytes"=&gt;0,</span>
<span class="c1"># "txcnt"=&gt;0,</span>
<span class="c1"># "rxcnt"=&gt;0}</span>
</code></pre></div></div>

<h3 id="start_raw_logging_interface">
<a class="anchor" href="#start_raw_logging_interface" aria-hidden="true"><span class="octicon octicon-link"></span></a>start_raw_logging_interface</h3>

<p>The start_raw_logging_interface method starts logging of raw data on one or all interfaces. This is for debugging purposes only.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">start_raw_logging_interface</span><span class="p">(</span><span class="s2">"&lt;Interface Name (optional)&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Interface Name</td>
      <td>Name of the Interface to command to start raw data logging. Defaults to ‘ALL’ which causes all interfaces that support raw data logging to start logging raw data.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">start_raw_logging_interface</span><span class="p">(</span><span class="s2">"int1"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="stop_raw_logging_interface">
<a class="anchor" href="#stop_raw_logging_interface" aria-hidden="true"><span class="octicon octicon-link"></span></a>stop_raw_logging_interface</h3>

<p>The stop_raw_logging_interface method stops logging of raw data on one or all interfaces. This is for debugging purposes only.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">stop_raw_logging_interface</span><span class="p">(</span><span class="s2">"&lt;Interface Name (optional)&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Interface Name</td>
      <td>Name of the Interface to command to stop raw data logging. Defaults to ‘ALL’ which causes all interfaces that support raw data logging to stop logging raw data.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">stop_raw_logging_interface</span><span class="p">(</span><span class="s2">"int1"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="get_all_interface_info">
<a class="anchor" href="#get_all_interface_info" aria-hidden="true"><span class="octicon octicon-link"></span></a>get_all_interface_info</h3>

<p>The get_all_interface_info method returns information about all interfaces. The return value is an array of arrays where each subarray contains the interface name, connection state, number of connected clients, transmit queue size, receive queue size, bytes transmitted, bytes received, command count, and telemetry count.</p>

<p>Syntax / Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">interface_info</span> <span class="o">=</span> <span class="n">get_all_interface_info</span><span class="p">()</span>
<span class="n">interface_info</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">interface_name</span><span class="p">,</span> <span class="n">connection_state</span><span class="p">,</span> <span class="n">num_clients</span><span class="p">,</span> <span class="n">tx_q_size</span><span class="p">,</span> <span class="n">rx_q_size</span><span class="p">,</span> <span class="n">tx_bytes</span><span class="p">,</span> <span class="n">rx_bytes</span><span class="p">,</span> <span class="n">cmd_count</span><span class="p">,</span> <span class="n">tlm_count</span><span class="o">|</span>
  <span class="nb">puts</span> <span class="s2">"Interface: </span><span class="si">#{</span><span class="n">interface_name</span><span class="si">}</span><span class="s2">, Connection state: </span><span class="si">#{</span><span class="n">connection_state</span><span class="si">}</span><span class="s2">, Num connected clients: </span><span class="si">#{</span><span class="n">num_clients</span><span class="si">}</span><span class="s2">"</span>
  <span class="nb">puts</span> <span class="s2">"Transmit queue size: </span><span class="si">#{</span><span class="n">tx_q_size</span><span class="si">}</span><span class="s2">, Receive queue size: </span><span class="si">#{</span><span class="n">rx_q_size</span><span class="si">}</span><span class="s2">, Bytes transmitted: </span><span class="si">#{</span><span class="n">tx_bytes</span><span class="si">}</span><span class="s2">, Bytes received: </span><span class="si">#{</span><span class="n">rx_bytes</span><span class="si">}</span><span class="s2">"</span>
  <span class="nb">puts</span> <span class="s2">"Cmd count: </span><span class="si">#{</span><span class="n">cmd_count</span><span class="si">}</span><span class="s2">, Tlm count: </span><span class="si">#{</span><span class="n">tlm_count</span><span class="si">}</span><span class="s2">"</span>
<span class="k">end</span>
</code></pre></div></div>

<h2 id="routers">
<a class="anchor" href="#routers" aria-hidden="true"><span class="octicon octicon-link"></span></a>Routers</h2>

<p>These methods allow the user to manipulate COSMOS routers.</p>

<h3 id="connect_router">
<a class="anchor" href="#connect_router" aria-hidden="true"><span class="octicon octicon-link"></span></a>connect_router</h3>

<p>The connect_router method connects a COSMOS router.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">connect_router</span><span class="p">(</span><span class="s2">"&lt;Router Name&gt;"</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Router</span> <span class="no">Parameters</span> <span class="p">(</span><span class="n">optional</span><span class="p">)</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Router Name</td>
      <td>Name of the router.</td>
    </tr>
    <tr>
      <td>Router Parameters</td>
      <td>Parameters used to initialize the router. If none are given then the routerwill use the parameters that were given in the server configuration file.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">connect_ROUTER</span><span class="p">(</span><span class="s2">"INT1_ROUTER"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="disconnect_router">
<a class="anchor" href="#disconnect_router" aria-hidden="true"><span class="octicon octicon-link"></span></a>disconnect_router</h3>

<p>The disconnect_router method disconnects a COSMOS router.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">disconnect_router</span><span class="p">(</span><span class="s2">"&lt;Router Name&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Router Name</td>
      <td>Name of the router.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">disconnect_router</span><span class="p">(</span><span class="s2">"INT1_ROUTER"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="get_router_names">
<a class="anchor" href="#get_router_names" aria-hidden="true"><span class="octicon octicon-link"></span></a>get_router_names</h3>

<p>The get_router_names method returns a list of the routers in the system in an array.</p>

<p>Syntax / Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">router_names</span> <span class="o">=</span> <span class="n">get_router_names</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="get_all_router_info">
<a class="anchor" href="#get_all_router_info" aria-hidden="true"><span class="octicon octicon-link"></span></a>get_all_router_info</h3>

<p>The get_all_router_info method returns information about all routers. The return value is an array of arrays where each subarray contains the router name, connection state, number of connected clients, transmit queue size, receive queue size, bytes transmitted, bytes received, packets received, and packets sent.</p>

<p>Syntax / Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">router_info</span> <span class="o">=</span> <span class="n">get_all_router_info</span><span class="p">()</span>
<span class="n">router_info</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">router_name</span><span class="p">,</span> <span class="n">connection_state</span><span class="p">,</span> <span class="n">num_clients</span><span class="p">,</span> <span class="n">tx_q_size</span><span class="p">,</span> <span class="n">rx_q_size</span><span class="p">,</span> <span class="n">tx_bytes</span><span class="p">,</span> <span class="n">rx_bytes</span><span class="p">,</span> <span class="n">pkts_rcvd</span><span class="p">,</span> <span class="n">pkts_sent</span><span class="o">|</span>
  <span class="nb">puts</span> <span class="s2">"Router: </span><span class="si">#{</span><span class="n">router_name</span><span class="si">}</span><span class="s2">, Connection state: </span><span class="si">#{</span><span class="n">connection_state</span><span class="si">}</span><span class="s2">, Num connected clients: </span><span class="si">#{</span><span class="n">num_clients</span><span class="si">}</span><span class="s2">"</span>
  <span class="nb">puts</span> <span class="s2">"Transmit queue size: </span><span class="si">#{</span><span class="n">tx_q_size</span><span class="si">}</span><span class="s2">, Receive queue size: </span><span class="si">#{</span><span class="n">rx_q_size</span><span class="si">}</span><span class="s2">, Bytes transmitted: </span><span class="si">#{</span><span class="n">tx_bytes</span><span class="si">}</span><span class="s2">, Bytes received: </span><span class="si">#{</span><span class="n">rx_bytes</span><span class="si">}</span><span class="s2">"</span>
  <span class="nb">puts</span> <span class="s2">"Packets received: </span><span class="si">#{</span><span class="n">pkts_rcvd</span><span class="si">}</span><span class="s2">, Packets sent: </span><span class="si">#{</span><span class="n">pkts_sent</span><span class="si">}</span><span class="s2">"</span>
<span class="k">end</span>
</code></pre></div></div>

<h3 id="start_raw_logging_router">
<a class="anchor" href="#start_raw_logging_router" aria-hidden="true"><span class="octicon octicon-link"></span></a>start_raw_logging_router</h3>

<p>The start_raw_logging_router method starts logging of raw data on one or all routers. This is for debugging purposes only.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">start_raw_logging_router</span><span class="p">(</span><span class="s2">"&lt;Router Name (optional)&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Router Name</td>
      <td>Name of the Router to command to start raw data logging. Defaults to ‘ALL’ which causes all routers that support raw data logging to start logging raw data.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">start_raw_logging_router</span><span class="p">(</span><span class="s2">"router1"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="stop_raw_logging_router">
<a class="anchor" href="#stop_raw_logging_router" aria-hidden="true"><span class="octicon octicon-link"></span></a>stop_raw_logging_router</h3>

<p>The stop_raw_logging_router method stops logging of raw data on one or all routers. This is for debugging purposes only.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">stop_raw_logging_router</span><span class="p">(</span><span class="s2">"&lt;Router Name (optional)&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Router Name</td>
      <td>Name of the Router to command to stop raw data logging. Defaults to ‘ALL’ which causes all routers that support raw data logging to stop logging raw data.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">stop_raw_logging_router</span><span class="p">(</span><span class="s2">"router1"</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="executing-other-procedures">
<a class="anchor" href="#executing-other-procedures" aria-hidden="true"><span class="octicon octicon-link"></span></a>Executing Other Procedures</h2>

<p>These methods allow the user to bring in files of subroutines and execute other test procedures.</p>

<h3 id="start">
<a class="anchor" href="#start" aria-hidden="true"><span class="octicon octicon-link"></span></a>start</h3>

<p>The start method starts execution of another high level test procedure. No parameters can be given to high level test procedures. If parameters are necessary, then consider using a subroutine.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">start</span><span class="p">(</span><span class="s2">"&lt;Procedure Filename&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Procedure Filename</td>
      <td>Name of the test procedure file. These files are normally in the procedures folder but may be anywhere in the Ruby search path. Additionally, absolute paths are supported.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">start</span><span class="p">(</span><span class="s2">"test1.rb"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="load_utility">
<a class="anchor" href="#load_utility" aria-hidden="true"><span class="octicon octicon-link"></span></a>load_utility</h3>

<p>The load_utility method reads in a script file that contains useful subroutines for use in your test procedure. When these subroutines run in ScriptRunner or TestRunner, their lines will be highlighted. If you want to import subroutines but do not want their lines to be highlighted in ScriptRunner or TestRunner, use the standard Ruby ‘load’ or ‘require’ statement.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">load_utility</span><span class="p">(</span><span class="s2">"&lt;Utility Filename&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Utility Filename</td>
      <td>Name of the script file containing subroutines. These files are normally in the procedures folder but may be anywhere in the Ruby search path. Additionally, absolute paths are supported.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">load_utility</span><span class="p">(</span><span class="s2">"mode_changes.rb"</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="opening-closing--creating-telemetry-screens">
<a class="anchor" href="#opening-closing--creating-telemetry-screens" aria-hidden="true"><span class="octicon octicon-link"></span></a>Opening, Closing &amp; Creating Telemetry Screens</h2>

<div class="note unreleased">
  <p>Screen APIs not yet implemented in COSMOS 5</p>
</div>

<p>These methods allow the user to open, close or create unique telemetry screens from within a test procedure.</p>

<h3 id="display">
<a class="anchor" href="#display" aria-hidden="true"><span class="octicon octicon-link"></span></a>display</h3>

<p>The display method opens a telemetry screen at the specified position.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">display</span><span class="p">(</span><span class="s2">"&lt;Display Name&gt;"</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">X</span> <span class="no">Position</span> <span class="p">(</span><span class="n">optional</span><span class="p">)</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Y</span> <span class="no">Position</span> <span class="p">(</span><span class="n">optional</span><span class="p">)</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Display Name</td>
      <td>Name of the telemetry screen to display. Screens are normally named by “TARGET_NAME SCREEN_NAME”</td>
    </tr>
    <tr>
      <td>X Position</td>
      <td>The X coordinate on screen where the top left corner of the telemetry screen will be placed.</td>
    </tr>
    <tr>
      <td>Y Position</td>
      <td>The Y coordinate on screen where the top left corner of the telemetry screen will be placed.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">display</span><span class="p">(</span><span class="s2">"INST ADCS"</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="clear">
<a class="anchor" href="#clear" aria-hidden="true"><span class="octicon octicon-link"></span></a>clear</h3>

<p>The clear method closes an open telemetry screen.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">clear</span><span class="p">(</span><span class="s2">"&lt;Display Name&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Display Name</td>
      <td>Name of the telemetry screen to close. Screens are normally named by “TARGET_NAME SCREEN_NAME”</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">clear</span><span class="p">(</span><span class="s2">"INST ADCS"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="clear_all">
<a class="anchor" href="#clear_all" aria-hidden="true"><span class="octicon octicon-link"></span></a>clear_all</h3>

<p>The clear_all method closes all open screens or all screens of a particular target.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">clear_all</span><span class="p">(</span><span class="s2">"&lt;Target Name&gt;"</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Close all screens associated with the target. If no target is passed, all screens are closed.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">clear_all</span><span class="p">(</span><span class="s2">"INST"</span><span class="p">)</span> <span class="c1"># Clear all INST screens</span>
<span class="n">clear_all</span><span class="p">()</span> <span class="c1"># Clear all screens</span>
</code></pre></div></div>

<h3 id="get_screen_list">
<a class="anchor" href="#get_screen_list" aria-hidden="true"><span class="octicon octicon-link"></span></a>get_screen_list</h3>

<p>The get_screen_list returns a list of available telemetry screens.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">get_screen_list</span><span class="p">(</span><span class="s2">"&lt;config_filename&gt;"</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">force_refresh</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Config filename</td>
      <td>A telemetry viewer config file to parse. If nil, the default config file will be used. Optional parameter, defaults to nil.</td>
    </tr>
    <tr>
      <td>Force refresh</td>
      <td>If true the config file will be re-parsed. Optional parameter, defaults to false.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">screen_list</span> <span class="o">=</span> <span class="n">get_screen_list</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="get_screen_definition">
<a class="anchor" href="#get_screen_definition" aria-hidden="true"><span class="octicon octicon-link"></span></a>get_screen_definition</h3>

<p>The get_screen_definition returns the text file contents of a telemetry screen definition.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">get_screen_definition</span><span class="p">(</span><span class="s2">"&lt;screen_full_name&gt;"</span><span class="p">,</span> <span class="s2">"&lt;config_filename&gt;"</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">force_refresh</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Screen full name</td>
      <td>Telemetry screen name.</td>
    </tr>
    <tr>
      <td>Config filename</td>
      <td>A telemetry viewer config file to parse. If nil, the default config file will be used. Optional parameter, defaults to nil.</td>
    </tr>
    <tr>
      <td>Force refresh</td>
      <td>If true the config file will be re-parsed. Optional parameter, defaults to false.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">screen_definition</span> <span class="o">=</span> <span class="n">get_screen_definition</span><span class="p">(</span><span class="s2">"INST HS"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="local_screen">
<a class="anchor" href="#local_screen" aria-hidden="true"><span class="octicon octicon-link"></span></a>local_screen</h3>

<p>The local_screen allows you to create a temporary screen directly from a script. This also has the ability to use local variables from within your script in your screen.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">local_screen</span><span class="p">(</span><span class="s2">"&lt;title&gt;"</span><span class="p">,</span> <span class="s2">"&lt;screen definition&gt;"</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">x</span> <span class="n">position</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">y</span> <span class="n">position</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Title</td>
      <td>Screen title</td>
    </tr>
    <tr>
      <td>Screen Definition</td>
      <td>You can pass the entire screen definition as a Ruby String or define it inline in a block. Optional parameter, defaults to nil.</td>
    </tr>
    <tr>
      <td>X Position</td>
      <td>X Position in pixels to display the screen. Note the top left corner of the display is 0, 0. Optional parameter, defaults to nil.</td>
    </tr>
    <tr>
      <td>Y Position</td>
      <td>Y Position in pixels to display the screen. Note the top left corner of the display is 0, 0. Optional parameter, defaults to nil.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">temp</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># This variable is accessed in the screen</span>
<span class="n">screen_def</span> <span class="o">=</span> <span class="s1">'
  SCREEN AUTO AUTO 0.1 FIXED
  VERTICAL
    TITLE "Local Variable"
    VERTICALBOX
      LABELVALUE LOCAL LOCAL temp # Note LOCAL LOCAL
    END
  END
'</span>
<span class="c1"># Here we pass in the screen definition as a string</span>
<span class="n">screen</span> <span class="o">=</span> <span class="n">local_screen</span><span class="p">(</span><span class="s2">"My Screen"</span><span class="p">,</span> <span class="n">screen_def</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">disable_instrumentation</span> <span class="k">do</span>
  <span class="mi">5000000</span><span class="p">.</span><span class="nf">times</span> <span class="k">do</span>
    <span class="n">temp</span> <span class="o">+=</span> <span class="mi">1</span> <span class="c1"># Increment temp to update the screen</span>
  <span class="k">end</span>
<span class="k">end</span>
<span class="n">screen</span><span class="p">.</span><span class="nf">close</span> <span class="c1"># Close this local screen</span>

<span class="n">temp</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c1"># The screen definition is nil so we define the screen in the block</span>
<span class="n">local_screen</span><span class="p">(</span><span class="s2">"My Screen"</span><span class="p">,</span> <span class="kp">nil</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span> <span class="k">do</span>
  <span class="s1">' # Note the quote
  SCREEN AUTO AUTO 0.1 FIXED
  VERTICAL
    TITLE "Local Variable"
    VERTICALBOX
      LABELVALUE LOCAL LOCAL temp # LOCAL LOCAL
    END
  END
  '</span> <span class="c1"># Close quote</span>
<span class="k">end</span>
<span class="n">disable_instrumentation</span> <span class="k">do</span>
  <span class="mi">5000000</span><span class="p">.</span><span class="nf">times</span> <span class="k">do</span>
    <span class="n">temp</span> <span class="o">+=</span> <span class="mi">1</span> <span class="c1"># Increment temp to update the screen</span>
  <span class="k">end</span>
<span class="k">end</span>
<span class="n">close_local_screens</span><span class="p">()</span> <span class="c1"># Close all open local screens</span>
</code></pre></div></div>

<h3 id="close_local_screens">
<a class="anchor" href="#close_local_screens" aria-hidden="true"><span class="octicon octicon-link"></span></a>close_local_screens</h3>

<p>The close_local_screens closes all temporary screens which were opened using local_screen.</p>

<p>Syntax / Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">close_local_screens</span><span class="p">()</span>
</code></pre></div></div>

<h2 id="script-runner-specific-functionality">
<a class="anchor" href="#script-runner-specific-functionality" aria-hidden="true"><span class="octicon octicon-link"></span></a>Script Runner Specific Functionality</h2>

<p>These methods allow the user to interact with ScriptRunner functions.</p>

<h3 id="set_line_delay">
<a class="anchor" href="#set_line_delay" aria-hidden="true"><span class="octicon octicon-link"></span></a>set_line_delay</h3>

<p>This method sets the line delay in script runner.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">set_line_delay</span><span class="p">(</span><span class="o">&lt;</span><span class="n">delay</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>delay</td>
      <td>The amount of time script runner will wait between lines when executing a script, in seconds. Should be ≥ 0.0</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">set_line_delay</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="get_line_delay">
<a class="anchor" href="#get_line_delay" aria-hidden="true"><span class="octicon octicon-link"></span></a>get_line_delay</h3>

<p>The method gets the line delay that script runner is currently using.</p>

<p>Syntax / Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">curr_line_delay</span> <span class="o">=</span> <span class="n">get_line_delay</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="get_scriptrunner_message_log_filename">
<a class="anchor" href="#get_scriptrunner_message_log_filename" aria-hidden="true"><span class="octicon octicon-link"></span></a>get_scriptrunner_message_log_filename</h3>

<p>Returns the filename of the ScriptRunner message log.</p>

<p>Syntax / Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">filename</span> <span class="o">=</span> <span class="n">get_scriptrunner_message_log_filename</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="start_new_scriptrunner_message_log">
<a class="anchor" href="#start_new_scriptrunner_message_log" aria-hidden="true"><span class="octicon octicon-link"></span></a>start_new_scriptrunner_message_log</h3>

<p>Starts a new ScriptRunner message log. Note: ScriptRunner will automatically start a new log whenever a script is started. This method is only needed for starting a new log mid-script execution.</p>

<p>Syntax / Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">filename</span> <span class="o">=</span> <span class="n">start_new_scriptrunner_message_log</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="disable_instrumentation">
<a class="anchor" href="#disable_instrumentation" aria-hidden="true"><span class="octicon octicon-link"></span></a>disable_instrumentation</h3>

<p><strong>_ Added in COSMOS 3.3.3 _</strong></p>

<p>Disables instrumentation for a block of code (line highlighting and exception catching). This is especially useful for speeding up loops that are very slow if lines are instrumented.
Consider breaking code like this into a seperate file and using either require/load to read the file for the same effect while still allowing errors to be caught by your script.</p>

<p><strong>_ WARNING: Use with caution. Disabling instrumentation will cause any error that occurs while disabled to cause your script to completely stop. _</strong></p>

<p>Syntax / Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">disable_instrumentation</span> <span class="k">do</span>
  <span class="mi">1000</span><span class="p">.</span><span class="nf">times</span> <span class="k">do</span>
    <span class="c1"># Don't want this to have to highlight 1000 times</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<h3 id="set_stdout_max_lines">
<a class="anchor" href="#set_stdout_max_lines" aria-hidden="true"><span class="octicon octicon-link"></span></a>set_stdout_max_lines</h3>

<p><strong>_ Added in COSMOS 3.3.3 _</strong></p>

<p>This method sets the maximum amount of lines of output that a single line in Scriptrunner can generate without being truncated.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">set_stdout_max_lines</span><span class="p">(</span><span class="n">max_lines</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>max_lines</td>
      <td>The maximum number of lines that will be written to the ScriptRunner log at once</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">set_stdout_max_lines</span><span class="p">(</span><span class="mi">2000</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="debugging">
<a class="anchor" href="#debugging" aria-hidden="true"><span class="octicon octicon-link"></span></a>Debugging</h2>

<p>These methods allow the user to debug scripts with ScriptRunner.</p>

<h3 id="insert_return">
<a class="anchor" href="#insert_return" aria-hidden="true"><span class="octicon octicon-link"></span></a>insert_return</h3>

<p>Inserts a ruby return statement into the currently executing context. This can be used to break out of methods early from the ScriptRunner Debug prompt.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">insert_return</span> <span class="p">(</span><span class="o">&lt;</span><span class="k">return</span> <span class="n">value</span> <span class="p">(</span><span class="n">optional</span><span class="p">)</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>return value</td>
      <td>One or more values that are returned from the method</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">insert_return</span><span class="p">()</span>
<span class="n">insert_return</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="step_mode">
<a class="anchor" href="#step_mode" aria-hidden="true"><span class="octicon octicon-link"></span></a>step_mode</h3>

<p>Places ScriptRunner into step mode where Go must be hit to proceed to the next line.</p>

<p>Syntax / Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">step_mode</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="run_mode">
<a class="anchor" href="#run_mode" aria-hidden="true"><span class="octicon octicon-link"></span></a>run_mode</h3>

<p>Places ScriptRunner into run mode where the next line is run automatically.</p>

<p>Syntax / Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">run_mode</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="show_backtrace">
<a class="anchor" href="#show_backtrace" aria-hidden="true"><span class="octicon octicon-link"></span></a>show_backtrace</h3>

<p>Makes ScriptRunner print out a backtrace when an error occurs. Also prints out a backtrace for the most recent error.</p>

<p>Syntax / Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">show_backtrace</span> <span class="c1"># Shows the backtrace for the latest error</span>
<span class="n">show_backtrace</span><span class="p">(</span><span class="kp">true</span><span class="p">)</span> <span class="c1"># Enables showing backtrace for every error</span>
<span class="n">show_backtrace</span><span class="p">(</span><span class="kp">false</span><span class="p">)</span> <span class="c1"># Disables showing backtrace for every error</span>
</code></pre></div></div>

<h3 id="shutdown_cmd_tlm">
<a class="anchor" href="#shutdown_cmd_tlm" aria-hidden="true"><span class="octicon octicon-link"></span></a>shutdown_cmd_tlm</h3>

<p>The shutdown_cmd_tlm method disconnects from the Command and Telemetry Server. This is good practice to do before your tool shuts down.</p>

<p>Syntax / Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">shutdown_cmd_tlm</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="set_cmd_tlm_disconnect">
<a class="anchor" href="#set_cmd_tlm_disconnect" aria-hidden="true"><span class="octicon octicon-link"></span></a>set_cmd_tlm_disconnect</h3>

<p>The set_cmd_tlm_disconnect method puts scripting into or out of disconnect mode. In disconnect mode, messages are not sent to CmdTlmServer. Instead things are reported as nominally succeeding. Disconnect mode is useful for dry-running scripts without having a connected CmdTlmServer.</p>

<p>Syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">set_cmd_tlm_disconnect</span><span class="p">(</span><span class="o">&lt;</span><span class="no">Disconnect</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Config</span> <span class="no">File</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Disconnect</td>
      <td>True or Fase. True enters disconnect mode and False leaves it.</td>
    </tr>
    <tr>
      <td>Config File</td>
      <td>Command and Telemetry Server configuration file to use to simulate the CmdTlmServer. Defaults to cmd_tlm_server.txt.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">set_cmd_tlm_disconnect</span><span class="p">(</span><span class="kp">true</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="get_cmd_tlm_disconnect">
<a class="anchor" href="#get_cmd_tlm_disconnect" aria-hidden="true"><span class="octicon octicon-link"></span></a>get_cmd_tlm_disconnect</h3>

<p>The get_cmd_tlm_disconnect method returns true if currently in disconnect mode.</p>

<p>Syntax / Example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mode</span> <span class="o">=</span> <span class="n">get_cmd_tlm_disconnect</span><span class="p">()</span>
</code></pre></div></div>

      </article>
    </div>

    <div class="unit one-fifth hide-on-mobiles">
  <aside>
    <ul>
      
      <!-- Ignore "posts" and "docs", we only want versioned collections -->
      <!-- prettier-ignore -->
       
      <!-- Ignore "posts" and "docs", we only want versioned collections -->
      <!-- prettier-ignore -->
      
      
      <li>
        <!-- Only create links to collections which aren't our own  -->
        
        <a href="/docs/v4/"
          >v4 Docs</a
        >
          
      <!-- Ignore "posts" and "docs", we only want versioned collections -->
      <!-- prettier-ignore -->
      
      
      <li>
        <!-- Only create links to collections which aren't our own  -->
          
      <!-- Ignore "posts" and "docs", we only want versioned collections -->
      <!-- prettier-ignore -->
       
      </li>
    </ul>

    <!-- prettier-ignore -->
    
    
    
    <h4>Getting Started</h4>
    <!-- prettier-ignore -->
    <!-- prettier-ignore -->



<ul>
  <!-- prettier-ignore -->
  
  

  
    
    
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
  
    
    
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
  <li class="">
    <a href="/docs/v5/tools">Tools</a>
  </li>
  <!-- prettier-ignore -->
  
  
    
    
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
  <li class="">
    <a href="/docs/v5/installation">Installation</a>
  </li>
  <!-- prettier-ignore -->
  
  
    
    
    
      
    
      
    
      
    
      
    
      
    
      
  <li class="">
    <a href="/docs/v5/gettingstarted">Getting Started</a>
  </li>
  <!-- prettier-ignore -->
  
  
    
    
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
  <li class="">
    <a href="/docs/v5/upgrading">Upgrading</a>
  </li>
  <!-- prettier-ignore -->
  
  
</ul>

    
    <h4>Configuration</h4>
    <!-- prettier-ignore -->
    <!-- prettier-ignore -->



<ul>
  <!-- prettier-ignore -->
  
  

  
    
    
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
  <li class="">
    <a href="/docs/v5/plugins">Plugins</a>
  </li>
  <!-- prettier-ignore -->
  
  
    
    
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
  <li class="">
    <a href="/docs/v5/target">Target Configuration</a>
  </li>
  <!-- prettier-ignore -->
  
  
    
    
    
      
    
      
    
      
  <li class="">
    <a href="/docs/v5/command">Command Configuration</a>
  </li>
  <!-- prettier-ignore -->
  
  
    
    
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
  <li class="">
    <a href="/docs/v5/telemetry">Telemetry Configuration</a>
  </li>
  <!-- prettier-ignore -->
  
  
    
    
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
  <li class="">
    <a href="/docs/v5/interfaces">Interface Configuration</a>
  </li>
  <!-- prettier-ignore -->
  
  
    
    
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
  <li class="">
    <a href="/docs/v5/protocols">Protocol Configuration</a>
  </li>
  <!-- prettier-ignore -->
  
  
</ul>

    
    <h4>Tool User Manuals</h4>
    <!-- prettier-ignore -->
    <!-- prettier-ignore -->



<ul>
  <!-- prettier-ignore -->
  
  

  
    
    
    
      
  <li class="">
    <a href="/docs/v5/cmd-sender">Command Sender</a>
  </li>
  <!-- prettier-ignore -->
  
  
    
    
    
      
    
      
  <li class="">
    <a href="/docs/v5/cmd-tlm-server">Command and Telemetry Server</a>
  </li>
  <!-- prettier-ignore -->
  
  
    
    
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
  
    
    
    
      
    
      
    
      
    
      
    
      
  <li class="">
    <a href="/docs/v5/data-viewer">Data Viewer</a>
  </li>
  <!-- prettier-ignore -->
  
  
    
    
    
      
    
      
    
      
    
      
  <li class="">
    <a href="/docs/v5/data-extractor">Data Extractor</a>
  </li>
  <!-- prettier-ignore -->
  
  
    
    
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
  <li class="">
    <a href="/docs/v5/limits-monitor">Limits Monitor</a>
  </li>
  <!-- prettier-ignore -->
  
  
    
    
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
  <li class="">
    <a href="/docs/v5/packet-viewer">Packet Viewer</a>
  </li>
  <!-- prettier-ignore -->
  
  
    
    
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
  <li class="">
    <a href="/docs/v5/script-runner">Script Runner</a>
  </li>
  <!-- prettier-ignore -->
  
  
    
    
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
  <li class="">
    <a href="/docs/v5/tlm-grapher">Telemetry Grapher</a>
  </li>
  <!-- prettier-ignore -->
  
  
    
    
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
  <li class="">
    <a href="/docs/v5/tlm-viewer">Telemetry Viewer</a>
  </li>
  <!-- prettier-ignore -->
  
  
    
    
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
  <li class="">
    <a href="/docs/v5/screens">Telemetry Screens</a>
  </li>
  <!-- prettier-ignore -->
  
  
    
    
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
  <li class="">
    <a href="/docs/v5/timeline">Timeline</a>
  </li>
  <!-- prettier-ignore -->
  
  
</ul>

    
    <h4>Usage Guides</h4>
    <!-- prettier-ignore -->
    <!-- prettier-ignore -->



<ul>
  <!-- prettier-ignore -->
  
  

  
    
    
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
  <li class="current">
    <a href="/docs/v5/scripting">Scripting Guide</a>
  </li>
  <!-- prettier-ignore -->
  
  
    
    
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
  <li class="">
    <a href="/docs/v5/scripting-best-practices">Scripting Best Practices</a>
  </li>
  <!-- prettier-ignore -->
  
  
</ul>

    
    <h4>Development</h4>
    <!-- prettier-ignore -->
    <!-- prettier-ignore -->



<ul>
  <!-- prettier-ignore -->
  
  

  
    
    
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
  <li class="">
    <a href="/docs/v5/json-api">JSON API</a>
  </li>
  <!-- prettier-ignore -->
  
  
    
    
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
  <li class="">
    <a href="/docs/v5/logging">Logging</a>
  </li>
  <!-- prettier-ignore -->
  
  
</ul>

    

    <!-- Every versioned site gets the unversioned Meta section -->
    <h4>Meta</h4>
    <ul>
      
      <li>
        <a href="/docs/contributing">Contributing</a>
      </li>
      
      <li>
        <a href="/docs/papers">Papers</a>
      </li>
      
      <li>
        <a href="/docs/requirements">Requirements and Design</a>
      </li>
      
      <li>
        <a href="/docs/xtce">XTCE Support</a>
      </li>
      
    </ul>
  </aside>
</div>


    <div class="clear"></div>
  </div>
</section>


  <script>
  (function() {
    var cx = '001663949569052626382:-enhin1layy';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<footer role="contentinfo">
  <div class="grid wider">
    <div class="unit one-third center-on-mobiles">
      <p>The contents of this website are &copy;&nbsp;2021 <a href="http://www.ballaerospace.com/" target="_blank">Ball Aerospace</a> under the terms of the <a href="https://github.com/BallAerospace/COSMOS/blob/master/LICENSE.txt" target="_blank">GPLv3&nbsp;License</a>.</p>
      <p>Site design derived from the <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> project documentation which is licensed under the terms of the <a href="https://github.com/jekyll/jekyll/blob/master/LICENSE" target="_blank">MIT License</a>.</p>
    </div>
    <div class="unit two-thirds align-right center-on-mobiles">
      <p>
        <gcse:search></gcse:search>
        Proudly hosted by
        <a href="https://github.com" target="_blank">
          <img src="/img/footer-logo.png" width="100" height="30" alt="GitHub Social coding">
        </a>
      </p>
    </div>
  </div>
</footer>

  <script>
  var anchorForId = function (id) {
    var anchor = document.createElement("a");
    anchor.className = "header-link";
    anchor.href      = "#" + id;
    anchor.innerHTML = "<span class=\"sr-only\">Permalink</span><i class=\"fa fa-link\"></i>";
    anchor.title = "Permalink";
    return anchor;
  };

  var linkifyAnchors = function (level, containingElement) {
    var headers = containingElement.getElementsByTagName("h" + level);
    for (var h = 0; h < headers.length; h++) {
      var header = headers[h];

      if (typeof header.id !== "undefined" && header.id !== "") {
        header.appendChild(anchorForId(header.id));
      }
    }
  };

  document.onreadystatechange = function () {
    if (this.readyState === "complete") {
      var contentBlock = document.getElementsByClassName("docs")[0] || document.getElementsByClassName("news")[0];
      if (!contentBlock) {
        return;
      }
      for (var level = 1; level <= 6; level++) {
        linkifyAnchors(level, contentBlock);
      }
    }
  };
</script>

  
<!-- Google Analytics (http://google.com/analytics) -->
<script>
  !(function (j, e, k, y, l, L) {
    (j.GoogleAnalyticsObject = y),
      j[y] ||
        (j[y] = function () {
          (j[y].q = j[y].q || []).push(arguments);
        }),
      (j[y].l = +new Date()),
      (l = e.createElement(k)),
      (L = e.getElementsByTagName(k)[0]),
      (l.src = "//www.google-analytics.com/analytics.js"),
      L.parentNode.insertBefore(l, L);
  })(window, document, "script", "ga");

  ga("create", "UA-60103689-1", "cosmosc2.com");
  ga("send", "pageview");
</script>



</body>
</html>
