<!DOCTYPE HTML>
<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <title>System Configuration</title>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="generator" content="Jekyll v3.5.2">
  <link rel="alternate" type="application/rss+xml" title="Ball Aerospace COSMOS News" href="/feed.xml">
  <link rel="alternate" type="application/atom+xml" title="Recent commits to COSMOS's master branch" href="https://github.com/BallAerospace/COSMOS/commits/master.atom">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic,900">
  <link rel="stylesheet" href="/css/screen.css">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <!--[if lt IE 9]>
  <script src="/js/html5shiv.min.js"></script>
  <script src="/js/respond.min.js"></script>
  <![endif]-->
</head>


<body class="wrap">
  <header role="banner">
  <nav class="mobile-nav show-on-mobiles">
    <ul>
  <li class="">
    <a href="/">Home</a>
  </li>
  <li class="current">
    <span class="hide-on-mobiles"><a href="/docs/home/">Documentation</a></span>
    <span class="show-on-mobiles"><a href="/docs/home/">Docs</a></span>
  </li>
  <li class="">
    <a href="/news/">News</a>
  </li>
  <li>
    <a href="/help/">Help</a>
  </li>
  <li>
    <a href="https://github.com/BallAerospace/COSMOS" target="_blank"><span class="hide-on-mobiles">View on </span>GitHub</a>
  </li>
</ul>

  </nav>
  <div class="grid wider">
    <div class="unit one-third center-on-mobiles" style="margin-top:27px;">
      <h1>
        <a href="/">
          <span class="sr-only">COSMOS</span>
          <img src="/img/COSMOS.png" width="312" height="70" alt="COSMOS Logo">
        </a>
      </h1>
    </div>
    <nav class="main-nav unit two-thirds hide-on-mobiles">
      <ul>
  <li class="">
    <a href="/">Home</a>
  </li>
  <li class="current">
    <span class="hide-on-mobiles"><a href="/docs/home/">Documentation</a></span>
    <span class="show-on-mobiles"><a href="/docs/home/">Docs</a></span>
  </li>
  <li class="">
    <a href="/news/">News</a>
  </li>
  <li>
    <a href="/help/">Help</a>
  </li>
  <li>
    <a href="https://github.com/BallAerospace/COSMOS" target="_blank"><span class="hide-on-mobiles">View on </span>GitHub</a>
  </li>
</ul>

    </nav>
  </div>
</header>


    <section class="docs">
    <div class="grid wider">

      <div class="docs-nav-mobile unit whole show-on-mobiles">
  <select onchange="if (this.value) window.location.href=this.value">
    <option value="">Navigate the docs...</option>
    
    <optgroup label="Getting Started">
      


  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/home/">Welcome</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/installation/">Installation</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/upgrading/">Upgrading and the Gemfile</option>
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/structure/">Directory structure</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/gettingstarted/">Getting Started</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


    </optgroup>
    
    <optgroup label="System Configuration">
      


  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/system/">System Configuration</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
      <option value="/docs/command/">Command Configuration</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/telemetry/">Telemetry Configuration</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/interfaces/">Interface Configuration</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/environment/">Environment Variables</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


    </optgroup>
    
    <optgroup label="Tool Configuration">
      


  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/launcher/">Launcher</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
      <option value="/docs/data_viewer/">Data Viewer</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/handbook_creator/">Handbook Creator</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/limits_monitor/">Limits Monitor</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/script_runner/">Script Runner</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/table_manager/">Table Manager</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/test_runner/">Test Runner</option>
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/tlm_extractor/">Telemetry Extractor</option>
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/tlm_viewer/">Telemetry Viewer</option>
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/screens/">Telemetry Screens</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


    </optgroup>
    
    <optgroup label="User's Guides">
      


  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/scripting/">Scripting Guide</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/gemtargets/">Gem Based Targets and Tools</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


    </optgroup>
    
    <optgroup label="Tips">
      


  

  
    
      <option value="/docs/chaining/">Chaining CmdTlmServers</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


    </optgroup>
    
    <optgroup label="Development">
      


  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/system_class/">System Class</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/packet_class/">Packet Class</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/json_api/">JSON API</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


    </optgroup>
    
    <optgroup label="Meta">
      


  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/requirements/">Requirements and Design</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/xtce/">XTCE Support</option>
    
  

  

  
    
  
    
  
    
  
    
      <option value="/docs/contributing/">Contributing</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
      <option value="/docs/contact/">Contact Us</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/history/">Release History</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/papers/">Papers</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


    </optgroup>
    
  </select>
</div>


      <div class="unit four-fifths">
        <article>
          <div class="improve right">
            <a href="https://github.com/BallAerospace/COSMOS/edit/website/_docs/system.md" target="_blank"><i class="fa fa-pencil"></i> &nbsp;Improve this page</a>
          </div>
          
          <div class="toc">
            <ul class="section-nav">
<li class="toc-entry toc-h1"><a href="#system-configuration">System Configuration</a>
<ul>
<li class="toc-entry toc-h2"><a href="#auto_declare_targets">AUTO_DECLARE_TARGETS</a></li>
<li class="toc-entry toc-h2"><a href="#declare_target">DECLARE_TARGET</a></li>
<li class="toc-entry toc-h2"><a href="#declare_gem_target">DECLARE_GEM_TARGET</a></li>
<li class="toc-entry toc-h2"><a href="#port">PORT</a></li>
<li class="toc-entry toc-h2"><a href="#listen_host">LISTEN_HOST</a></li>
<li class="toc-entry toc-h2"><a href="#connect_host">CONNECT_HOST</a></li>
<li class="toc-entry toc-h2"><a href="#path">PATH</a></li>
<li class="toc-entry toc-h2"><a href="#default_packet_log_writer">DEFAULT_PACKET_LOG_WRITER</a></li>
<li class="toc-entry toc-h2"><a href="#default_packet_log_reader">DEFAULT_PACKET_LOG_READER</a></li>
<li class="toc-entry toc-h2"><a href="#staleness_seconds">STALENESS_SECONDS</a></li>
<li class="toc-entry toc-h2"><a href="#enable_dns">ENABLE_DNS</a></li>
<li class="toc-entry toc-h2"><a href="#disable_dns">DISABLE_DNS</a></li>
<li class="toc-entry toc-h2"><a href="#enable_sound">ENABLE_SOUND</a></li>
<li class="toc-entry toc-h2"><a href="#allow_access">ALLOW_ACCESS</a></li>
<li class="toc-entry toc-h2"><a href="#meta_init">META_INIT</a></li>
<li class="toc-entry toc-h2"><a href="#time_zone_utc">TIME_ZONE_UTC</a></li>
<li class="toc-entry toc-h2"><a href="#add_md5_file">ADD_MD5_FILE</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#target-configuration">Target Configuration</a>
<ul>
<li class="toc-entry toc-h2"><a href="#require">REQUIRE</a></li>
<li class="toc-entry toc-h2"><a href="#ignore_parameter">IGNORE_PARAMETER</a></li>
<li class="toc-entry toc-h2"><a href="#ignore_item">IGNORE_ITEM</a></li>
<li class="toc-entry toc-h2"><a href="#commands">COMMANDS</a></li>
<li class="toc-entry toc-h2"><a href="#telemetry">TELEMETRY</a></li>
<li class="toc-entry toc-h2"><a href="#auto_screen_substitute">AUTO_SCREEN_SUBSTITUTE</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#command-and-telemetry-server-configuration">Command and Telemetry Server Configuration</a>
<ul>
<li class="toc-entry toc-h2"><a href="#title">TITLE</a></li>
<li class="toc-entry toc-h2"><a href="#packet_log_writer">PACKET_LOG_WRITER</a></li>
<li class="toc-entry toc-h2"><a href="#auto_interface_targets">AUTO_INTERFACE_TARGETS</a></li>
<li class="toc-entry toc-h2"><a href="#interface_target">INTERFACE_TARGET</a></li>
<li class="toc-entry toc-h2"><a href="#interface">INTERFACE</a></li>
<li class="toc-entry toc-h2"><a href="#router">ROUTER</a></li>
<li class="toc-entry toc-h2"><a href="#collect_metadata">COLLECT_METADATA</a></li>
<li class="toc-entry toc-h2"><a href="#background_task">BACKGROUND_TASK</a>
<ul>
<li class="toc-entry toc-h3"><a href="#interface-modifiers">INTERFACE Modifiers</a></li>
<li class="toc-entry toc-h3"><a href="#target">TARGET</a></li>
<li class="toc-entry toc-h3"><a href="#dont_connect">DONT_CONNECT</a></li>
<li class="toc-entry toc-h3"><a href="#dont_reconnect">DONT_RECONNECT</a></li>
<li class="toc-entry toc-h3"><a href="#reconnect_delay">RECONNECT_DELAY</a></li>
<li class="toc-entry toc-h3"><a href="#disable_disconnect">DISABLE_DISCONNECT</a></li>
<li class="toc-entry toc-h3"><a href="#log">LOG</a></li>
<li class="toc-entry toc-h3"><a href="#dont_log">DONT_LOG</a></li>
<li class="toc-entry toc-h3"><a href="#log_raw">LOG_RAW</a></li>
<li class="toc-entry toc-h3"><a href="#background_task-modifiers">BACKGROUND_TASK Modifiers</a></li>
<li class="toc-entry toc-h3"><a href="#stopped">STOPPED</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#project-crc-checking">Project CRC Checking</a></li>
</ul>
          </div>
          
          <h1>System Configuration</h1>
          <p>This document provides the information necessary to configure the COSMOS Command and Telemetry Server and other top level configuration options for your unique project.</p>

<p>Configuration file formats for the following are provided:</p>

<ul>
  <li>system.txt (found in config/system)</li>
  <li>target.txt (found in config/targets/TARGETNAME)</li>
  <li>cmd_tlm_server.txt (found in config/targets/TARGETNAME and config/tools/cmd_tlm_server)</li>
  <li>crc.txt (found in data/crc.txt)</li>
</ul>

<h1 id="system-configuration">
<a id="system-configuration" class="anchor" href="#system-configuration" aria-hidden="true"><span class="octicon octicon-link"></span></a>System Configuration</h1>
<p>The COSMOS system configuration is performed by system.txt in the config/system directory. This file declares all the targets that will be used by COSMOS as well as top level configuration information which is primarily used by the Command and Telemetry Server.</p>

<p>By default, all COSMOS tools use the config/system/system.txt file. However, all tools can take a custom system configuration file by passing the “–system <filename>" option to the tool when it starts. NOTE: Mixing system configuration files between tools can be confusing as some tools could be configured with more or less targets than the Command and Telemetry Server. However, this is the only way to control which targets, ports, paths, and log writers are used by the various tools.</filename></p>

<h2 id="auto_declare_targets">
<a id="auto_declare_targets" class="anchor" href="#auto_declare_targets" aria-hidden="true"><span class="octicon octicon-link"></span></a>AUTO_DECLARE_TARGETS</h2>
<p><strong>Automatically load all the target folders under config/targets into the system</strong></p>

<p>When automatically discovering target folders the COSMOS naming convention must be followed. Target folders must be uppercase and be named according to how COSMOS will access them. For example, if you create a config/targets/INST directory, COSMOS will create a target named ‘INST’ which is how it will be referenced. This keyword is REQUIRED unless you individually declare your targets using the DECLARE_TARGET keyword.</p>

<h2 id="declare_target">
<a id="declare_target" class="anchor" href="#declare_target" aria-hidden="true"><span class="octicon octicon-link"></span></a>DECLARE_TARGET</h2>
<p><strong>Declare a COSMOS target and name it</strong></p>

<p>Declare target is used in place of AUTO_DECLARE_TARGETS to give more fine grained control over how the target folder is loaded and named within COSMOS. This is required if AUTO_DECLARE_TARGET is not present.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>The directory name which contains the target information. This must match a directory under config/targets.<br><br>Valid Values: <span class="values">Any Target Name</span>
</td>
      <td>True</td>
    </tr>
    <tr>
      <td>Substitute Target Name</td>
      <td>The target name in the COSMOS system. This is how the target will be referred to in scripts. If this is not given (or given as nil) the target name will be the directory name given above.</td>
      <td>False</td>
    </tr>
    <tr>
      <td>Target Filename</td>
      <td>The name of the file in the target directory which contains the configuration information for the target. By default this is ‘target.txt’ but if you want to rename this you need to set this parameter.</td>
      <td>False</td>
    </tr>
  </tbody>
</table>

<p>Example Usage:</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">DECLARE_TARGET INST INST2 inst.txt</code></pre></figure>

<h2 id="declare_gem_target">
<a id="declare_gem_target" class="anchor" href="#declare_gem_target" aria-hidden="true"><span class="octicon octicon-link"></span></a>DECLARE_GEM_TARGET</h2>
<p><strong>Declare a COSMOS target which resides in a Ruby gem</strong></p>

<p>COSMOS targets can be distributed in gem form in which case they must be named ‘cosmos-<gem-name>' where <gem-name> is the descriptive name of the gem. See the COSMOS documentation at cosmosrb.com for for information on creating a COSMOS gem target.</gem-name></gem-name></p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Gem Name</td>
      <td>The COSMOS gem name which must be cosmos-<gem-name> where <gem-name> is the descriptive gem name. In the above example, the target will be named 'GEM-NAME' (note the cosmos- prefix is stripped off).</gem-name></gem-name>
</td>
      <td>True</td>
    </tr>
    <tr>
      <td>Substitute Target Name</td>
      <td>The target name in the COSMOS system. This is how the target will be referred to in scripts. If this is not given (or given as nil) the target name will be the gem name as described above.</td>
      <td>False</td>
    </tr>
    <tr>
      <td>Target Filename</td>
      <td>The name of the file in the target directory which contains the configuration information for the target. By default this is ‘target.txt’ but if you want to rename this you need to set this parameter.</td>
      <td>False</td>
    </tr>
  </tbody>
</table>

<h2 id="port">
<a id="port" class="anchor" href="#port" aria-hidden="true"><span class="octicon octicon-link"></span></a>PORT</h2>
<p><strong>Set a Server Port</strong></p>

<p>Port is used to set the default ports used by the Command and Telemetry Server. It is not necessary to set this option unless you wish to override the defaults (given in the example usage). Overriding ports is necessary if you want to run two Command and Telemetry Servers on the same computer simultaneously.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Port Name</td>
      <td>CTS_API - This port is what tools connect to to communicate with the COSMOS Scripting API. TLMVIEWER_API - This port is used to remotely open and close telemetry screens in Telemetry Viewer. CTS_PREIDENTIFIED - This port provides access to a preidentified stream of all telemetry packets in the system. This is currently used by Telemetry Grapher and can be used to chain Command and Telemetry Servers together as it also accepts commands. CTS_CMD_ROUTER - This port provides access to a stream of all command packets that have been accepted by COSMOS.<br><br>Valid Values: <span class="values">CTS_API, TLMVIEWER_API, CTS_PREIDENTIFIED, CTS_CMD_ROUTER</span>
</td>
      <td>True</td>
    </tr>
    <tr>
      <td>Port Value</td>
      <td>Port number to use for the specified port name</td>
      <td>True</td>
    </tr>
  </tbody>
</table>

<p>Example Usage:</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">PORT CTS_API 7777 # Default
PORT TLMVIEWER_API 7778 # Default
PORT CTS_PREIDENTIFIED 7779 # Default
</code></pre></figure>

<h2 id="listen_host">
<a id="listen_host" class="anchor" href="#listen_host" aria-hidden="true"><span class="octicon octicon-link"></span></a>LISTEN_HOST</h2>
<div class="right">(Since 4.0.0)</div>
<p><strong>IP addresses or host names to bind API ports to</strong></p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Host Port Name</td>
      <td>CTS_API - This port is what tools connect to to communicate with the COSMOS Scripting API. TLMVIEWER_API - This port is used to remotely open and close telemetry screens in Telemetry Viewer. CTS_PREIDENTIFIED - This port provides access to a preidentified stream of all telemetry packets in the system. This is currently used by Telemetry Grapher and can be used to chain Command and Telemetry Servers together as it also accepts commands. CTS_CMD_ROUTER - This port provides access to a stream of all command packets that have been accepted by COSMOS.<br><br>Valid Values: <span class="values">CTS_API, TLMVIEWER_API, CTS_PREIDENTIFIED, CTS_CMD_ROUTER</span>
</td>
      <td>True</td>
    </tr>
    <tr>
      <td>Host Value</td>
      <td>The IP address or host name to bind the Host Port Name to. By default, the CTS_API and TLMVIEWER_API are bound to localhost meaning that only tools on the same machine can connect. By default, CTS_PREIDENTIFIED and CTS_CMD_ROUTER are bound to ‘0.0.0.0’ to allow for tools on any machines to connect. This allows for chaining two or more Servers out of the box.</td>
      <td>True</td>
    </tr>
  </tbody>
</table>

<h2 id="connect_host">
<a id="connect_host" class="anchor" href="#connect_host" aria-hidden="true"><span class="octicon octicon-link"></span></a>CONNECT_HOST</h2>
<div class="right">(Since 4.0.0)</div>
<p><strong>IP addresses or host names to connect tools to</strong></p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Host Port Name</td>
      <td>CTS_API - This port is what tools connect to to communicate with the COSMOS Scripting API. TLMVIEWER_API - This port is used to remotely open and close telemetry screens in Telemetry Viewer. CTS_PREIDENTIFIED - This port provides access to a preidentified stream of all telemetry packets in the system. This is currently used by Telemetry Grapher and can be used to chain Command and Telemetry Servers together as it also accepts commands. CTS_CMD_ROUTER - This port provides access to a stream of all command packets that have been accepted by COSMOS.<br><br>Valid Values: <span class="values">CTS_API, TLMVIEWER_API, CTS_PREIDENTIFIED, CTS_CMD_ROUTER</span>
</td>
      <td>True</td>
    </tr>
    <tr>
      <td>Host Value</td>
      <td>The IP address or host name to connect tools to. By default all ports are bound to localhost so all tools connect to the local machine.</td>
      <td>True</td>
    </tr>
  </tbody>
</table>

<h2 id="path">
<a id="path" class="anchor" href="#path" aria-hidden="true"><span class="octicon octicon-link"></span></a>PATH</h2>
<p><strong>Set a Server Path</strong></p>

<p>Path is used to set the default paths used by the Command and Telemetry Server to access or create files. It is not necessary to set this option unless you wish to override the defaults (given in the example usage).</p>

<div class="note warning"><p>The PROCEDURES path must be set for Script Runner and Test Runner to locate your procedure files. You can add multiple 'PATH PROCEDURES' lines to your configuration file to set multiple locations.</p></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Path Name</td>
      <td>Path name to set.<br><br>Valid Values: <span class="values">LOGS, TMP, SAVED_CONFIG, TABLES, PROCEDURES, HANDBOOK</span>
</td>
      <td>True</td>
    </tr>
    <tr>
      <td>Path Value</td>
      <td>File system path to use for the specified path name</td>
      <td>True</td>
    </tr>
  </tbody>
</table>

<p>Example Usage:</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">PATH LOGS './logs' # Default location of system and tool log files
PATH TMP './tmp' # Default location of temporary marshal files
PATH SAVED_CONFIG './saved_config' # Default location of saved configurations (see note)
PATH TABLES './tables' # Default location of table files
PATH PROCEDURES './procedures' # Default location of Script procedure files
PATH HANDBOOKS './handbooks' # Default location to place handbook files
</code></pre></figure>

<h2 id="default_packet_log_writer">
<a id="default_packet_log_writer" class="anchor" href="#default_packet_log_writer" aria-hidden="true"><span class="octicon octicon-link"></span></a>DEFAULT_PACKET_LOG_WRITER</h2>
<p><strong>Set the class used when creating binary packet log files</strong></p>

<div class="note warning"><p>Overriding the default log writer can break the ability to write log files that COSMOS can interpret. Proceed with caution!</p></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Filename</td>
      <td>Ruby file to use when instantiating a new log writer</td>
      <td>True</td>
    </tr>
    <tr>
      <td>parameter</td>
      <td>Parameters which are passed to the log read upon initialization</td>
      <td>False</td>
    </tr>
  </tbody>
</table>

<p>Example Usage:</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">DEFAULT_PACKET_LOG_WRITER packet_log_writer.rb</code></pre></figure>

<h2 id="default_packet_log_reader">
<a id="default_packet_log_reader" class="anchor" href="#default_packet_log_reader" aria-hidden="true"><span class="octicon octicon-link"></span></a>DEFAULT_PACKET_LOG_READER</h2>
<p><strong>Set the class used when reading binary packet log file</strong></p>

<div class="note warning"><p>Overriding the default log read can break the ability to read log files. Proceed with caution!</p></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Filename</td>
      <td>Ruby file to use when instantiating a new log writer</td>
      <td>True</td>
    </tr>
    <tr>
      <td>parameter</td>
      <td>Parameters which are passed to the log read upon initialization</td>
      <td>False</td>
    </tr>
  </tbody>
</table>

<p>Example Usage:</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">DEFAULT_PACKET_LOG_READER packet_log_reader.rb</code></pre></figure>

<h2 id="staleness_seconds">
<a id="staleness_seconds" class="anchor" href="#staleness_seconds" aria-hidden="true"><span class="octicon octicon-link"></span></a>STALENESS_SECONDS</h2>
<p><strong>Number of seconds before marking the packet stale</strong></p>

<p>A stale packet is identified in telemetry screens by all the telemetry items in the stale packet being colored purple..</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Seconds</td>
      <td>Integer number of seconds before packets are marked stale</td>
      <td>True</td>
    </tr>
  </tbody>
</table>

<p>Example Usage:</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">STALENESS_SECONDS 30</code></pre></figure>

<h2 id="enable_dns">
<a id="enable_dns" class="anchor" href="#enable_dns" aria-hidden="true"><span class="octicon octicon-link"></span></a>ENABLE_DNS</h2>
<div class="right">(Since 3.5.0)</div>
<p><strong>Enable reverse DNS lookups for tools</strong></p>

<p>Enables reverse DNS lookups when tools connect to the Command and Telemetry Server’s pre-identified socket or to any target using the TCPIP Server Interface. As of COSMOS 3.5.0 the default is to not use DNS.</p>

<h2 id="disable_dns">
<a id="disable_dns" class="anchor" href="#disable_dns" aria-hidden="true"><span class="octicon octicon-link"></span></a>DISABLE_DNS</h2>
<p><strong>Disable reverse DNS lookups for tools</strong></p>

<p>Disable reverse DNS lookups when tools connect to the Command and Telemetry Server’s pre-identified socket or to any target using the TCPIP Server Interface. This is useful when you are in an environment where DNS is not available. As of COSMOS 3.5.0 the default is to not use DNS</p>

<h2 id="enable_sound">
<a id="enable_sound" class="anchor" href="#enable_sound" aria-hidden="true"><span class="octicon octicon-link"></span></a>ENABLE_SOUND</h2>
<div class="right">(Since 3.5.0)</div>
<p><strong>Enable audible sounds when popups occur</strong></p>

<p>Enable sound makes any prompts that occur in ScriptRunner/TestRunner make an audible sound when they popup to alert the operator of needed input.</p>

<h2 id="allow_access">
<a id="allow_access" class="anchor" href="#allow_access" aria-hidden="true"><span class="octicon octicon-link"></span></a>ALLOW_ACCESS</h2>
<p><strong>White list machines that are allowed to connect to the Server</strong></p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Name or IP Address</td>
      <td>Machine name to allow access or you can specify ‘ALL’ to allow all machines access</td>
      <td>True</td>
    </tr>
  </tbody>
</table>

<p>Example Usage:</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">ALLOW_ACCESS ALL</code></pre></figure>

<h2 id="meta_init">
<a id="meta_init" class="anchor" href="#meta_init" aria-hidden="true"><span class="octicon octicon-link"></span></a>META_INIT</h2>
<div class="right">(Since 4.0.0)</div>
<p><strong>Specify a file to initialize the SYSTEM META packet</strong></p>

<p>Filename should be a text file with key value pairs where the keyword matches an item in the SYSTEM META packet. Note you do not have to specify ALL the items in the SYSTEM META packet.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Filename</td>
      <td>Filename, either fully qualified, or relative to Cosmos::USERPATH</td>
      <td>True</td>
    </tr>
  </tbody>
</table>

<h2 id="time_zone_utc">
<a id="time_zone_utc" class="anchor" href="#time_zone_utc" aria-hidden="true"><span class="octicon octicon-link"></span></a>TIME_ZONE_UTC</h2>
<div class="right">(Since 3.10.0)</div>
<p><strong>Report all times as UTC</strong></p>

<p>COSMOS will report all times as UTC time. If this keyword is not used, COSMOS will report all times as local times, where the local time zone is determined automatically by Ruby based upon the operating system time settings. This setting affects packet receive times, timestamped log filenames, message logs, Cmd/Tlm extractor time ranges, etc.</p>

<h2 id="add_md5_file">
<a id="add_md5_file" class="anchor" href="#add_md5_file" aria-hidden="true"><span class="octicon octicon-link"></span></a>ADD_MD5_FILE</h2>
<div class="right">(Since 4.0.0)</div>
<p><strong>Add a file to the MD5 sum calculation</strong></p>

<p>Adds a file to the set of files used in marshal file MD5 sum calculation. Upon startup, COSMOS calculates an MD5 sum over the command/telemetry definition files for all targets. After the definitions have been processed, COSMOS saves the resulting objects as marshal files in a folder with the MD5 sum as part of the name. The next time COSMOS runs, if the MD5 checksum of the cmd/tlm definition files has not changed, COSMOS can load the marshal files instead of re-processing the definitions. If a file is specified with the ADD_MD5_FILE keyword, COSMOS will include it in the MD5 sum calculation. This means that a change in the file will cause COSMOS to re-process the cmd/tlm defintions and create a new set of marshal files.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Filename</td>
      <td>Filename, either fully qualified, or relative to Cosmos::USERPATH</td>
      <td>True</td>
    </tr>
  </tbody>
</table>

<p>Example Usage:</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">ADD_MD5_FILE lib/user_version.rb</code></pre></figure>

<h1 id="target-configuration">
<a id="target-configuration" class="anchor" href="#target-configuration" aria-hidden="true"><span class="octicon octicon-link"></span></a>Target Configuration</h1>
<p>Each target is self contained in a target directory named after the target and placed in the config/targets directory. In the target directory there is a configuration file named target.txt which configures the individual target.</p>

<h2 id="require">
<a id="require" class="anchor" href="#require" aria-hidden="true"><span class="octicon octicon-link"></span></a>REQUIRE</h2>
<p><strong>Requires a Ruby file</strong></p>

<p>Ruby files must be required to be available to call in other code. Files are first required from the target’s lib folder. If no file is found the Ruby system path is checked which includes the base COSMOS/lib folder.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Filename</td>
      <td>Filename to require. For files in the target’s lib directory simply supply the filename, e.g. “REQUIRE my_file”. Files in the base COSMOS lib directory also should just list the filename. If a file is in a folder under the lib directory then you must specify the folder name, e.g. “REQUIRE folder/my_file”. The filename can also be an absolute path but this is not common. Note the “.rb” extension is optional when specifying the filename.</td>
      <td>True</td>
    </tr>
  </tbody>
</table>

<p>Example Usage:</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">REQUIRE limits_response.rb</code></pre></figure>

<h2 id="ignore_parameter">
<a id="ignore_parameter" class="anchor" href="#ignore_parameter" aria-hidden="true"><span class="octicon octicon-link"></span></a>IGNORE_PARAMETER</h2>
<p><strong>Ignore the given command parameter</strong></p>

<p>Hint to other COSMOS tools to hide or ignore this command parameter when processing the command. For example, Command Sender and Command Sequence will not display the parameter (by default) when showing the command and Script Runner code completion will not display the parameter.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Parameter Name</td>
      <td>The name of a command parameter. Note that this parameter will be ignored in ALL the commands it appears in.</td>
      <td>True</td>
    </tr>
  </tbody>
</table>

<p>Example Usage:</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">IGNORE_PARAMETER CCSDS_VERSION</code></pre></figure>

<h2 id="ignore_item">
<a id="ignore_item" class="anchor" href="#ignore_item" aria-hidden="true"><span class="octicon octicon-link"></span></a>IGNORE_ITEM</h2>
<p><strong>Ignore the given telemetry item</strong></p>

<p>Hint to other COSMOS tools to hide or ignore this telemetry item when processing the telemetry. For example, Packet Viewer will not display the item (by default) when showing the packet.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Item name</td>
      <td>The name of a telemetry item. Note that this item will be ignored in ALL the telemetry it appears in.</td>
      <td>True</td>
    </tr>
  </tbody>
</table>

<p>Example Usage:</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">IGNORE_ITEM CCSDS_VERSION</code></pre></figure>

<h2 id="commands">
<a id="commands" class="anchor" href="#commands" aria-hidden="true"><span class="octicon octicon-link"></span></a>COMMANDS</h2>
<p><strong>Process the given command definition file</strong></p>

<p>This keyword is used to explicitly add the command definition file to the list of command and telemetry files to process.</p>

<div class="note warning"><p>Usage of this keyword overrides automatic command and telemetry file discovery. If this keyword is used, you must also use the TELEMETRY keyword to specify the telemetry files to process.</p></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Filename</td>
      <td>Name of a command definition file in the target’s cmd_tlm directory, e.g. “cmd.txt”.</td>
      <td>True</td>
    </tr>
  </tbody>
</table>

<p>Example Usage:</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">COMMANDS inst_cmds_v2.txt
TELEMETRY inst_tlm_v2.txt
</code></pre></figure>

<h2 id="telemetry">
<a id="telemetry" class="anchor" href="#telemetry" aria-hidden="true"><span class="octicon octicon-link"></span></a>TELEMETRY</h2>
<p><strong>Process the given telemetry definition file</strong></p>

<p>This keyword is used to explicitly add the telemetry definition file to the list of command and telemetry files to process.</p>

<div class="note warning"><p>Usage of this keyword overrides automatic command and telemetry file discovery. If this keyword is used, you must also use the COMMAND keyword to specify the command files to process.</p></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Filename</td>
      <td>Name of a telemetry definition file in the target’s cmd_tlm directory, e.g. “tlm.txt”.</td>
      <td>True</td>
    </tr>
  </tbody>
</table>

<p>Example Usage:</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">COMMANDS inst_cmds_v2.txt
TELEMETRY inst_tlm_v2.txt
</code></pre></figure>

<h2 id="auto_screen_substitute">
<a id="auto_screen_substitute" class="anchor" href="#auto_screen_substitute" aria-hidden="true"><span class="octicon octicon-link"></span></a>AUTO_SCREEN_SUBSTITUTE</h2>
<p><strong>Automatically substitute the target’s name in screen definitions</strong></p>

<p>Targets can be renamed when they are declared which would break any screen definitions using the explicit target name. This keyword automatically replaces the target name in the screen definitions with the actual target name.</p>

<div class="note warning"><p>Replaces ALL target names in a screen definition file, so this is not suitable for screens with multiple targets.</p></div>

<h1 id="command-and-telemetry-server-configuration">
<a id="command-and-telemetry-server-configuration" class="anchor" href="#command-and-telemetry-server-configuration" aria-hidden="true"><span class="octicon octicon-link"></span></a>Command and Telemetry Server Configuration</h1>
<p>The Command and Telemetry Server’s configuration file is found in config/tools/cmd_tlm_server. This file is used to configure the server by primarily mapping the interfaces to the targets they service.</p>

<h2 id="title">
<a id="title" class="anchor" href="#title" aria-hidden="true"><span class="octicon octicon-link"></span></a>TITLE</h2>
<p><strong>Sets the Command and Telemetry Server window title</strong></p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Text</td>
      <td>Text to put in the title of the Command and Telemetry Server window</td>
      <td>True</td>
    </tr>
  </tbody>
</table>

<h2 id="packet_log_writer">
<a id="packet_log_writer" class="anchor" href="#packet_log_writer" aria-hidden="true"><span class="octicon octicon-link"></span></a>PACKET_LOG_WRITER</h2>
<p><strong>Declare a packet log writer</strong></p>

<p>Packet log writer is used to declare a packet log writer class and give it a name which can be referenced by an interface. This is required if you want interfaces to have their own dedicated log writers or want to combine various interfaces into a single log file. By default, COSMOS logs all data on all interfaces into a single command log and a single telemetry log. This keyword can also be used if you want to declare a different log file class to create log files.</p>

<div class="note warning"><p>You should NOT override the default without consulting a COSMOS expert as this may break the ability to successfully read and write log files.</p></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Log Writer Name</td>
      <td>The name of the log writer as reference by other cmd_tlm_server keywords. This name also appears in the Logging tab on the Command and Telemetry Server.</td>
      <td>True</td>
    </tr>
    <tr>
      <td>Filename</td>
      <td>Ruby file to use when instantiating a new log writer</td>
      <td>True</td>
    </tr>
    <tr>
      <td>Parameters</td>
      <td>Optional parameters to pass to the log writer class when instantiating it.</td>
      <td>False</td>
    </tr>
  </tbody>
</table>

<p>Example Usage:</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">PACKET_LOG_WRITER DEFAULT packet_log_writer.rb # Default
# The default logger filename will be &lt;DATE&gt;_cosmostlm.bin and will create a new log every 1MB
PACKET_LOG_WRITER DEFAULT packet_log_writer.rb cosmos true nil 1000000
# Create a logger named COSMOS_LOG which creates a new log every 5 min (600s)
PACKET_LOG_WRITER COSMOS_LOG packet_log_writer.rb cosmos true 600
</code></pre></figure>

<h2 id="auto_interface_targets">
<a id="auto_interface_targets" class="anchor" href="#auto_interface_targets" aria-hidden="true"><span class="octicon octicon-link"></span></a>AUTO_INTERFACE_TARGETS</h2>
<p><strong>Automatically use each target’s cmd_tlm_server.txt file to define the interface</strong></p>

<p>Look for a cmd_tlm_server.txt file at the top level of each target directory and use this file to configure the interface for that target. This is a good way of keeping the knowledge of how to interface to a target within that target. However, if you use substitute target names (by using DECLARE_TARGET) or use different IP addresses then this will not work and you’ll have to use the INTERFACE_TARGET or INTERFACE keyword.</p>

<h2 id="interface_target">
<a id="interface_target" class="anchor" href="#interface_target" aria-hidden="true"><span class="octicon octicon-link"></span></a>INTERFACE_TARGET</h2>
<p><strong>Load the specified target’s cmd_tlm_server.txt configuration file</strong></p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Name of the target<br><br>Valid Values: <span class="values">Any Target Name</span>
</td>
      <td>True</td>
    </tr>
    <tr>
      <td>Configuration File</td>
      <td>Configuration file name which contains the interface configuration. Defaults to ‘cmd_tlm_server.txt’.</td>
      <td>False</td>
    </tr>
  </tbody>
</table>

<p>Example Usage:</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">INTERFACE_TARGET COSMOS # Look in the COSMOS target directory for cmd_tlm_server.txt
INTERFACE_TARGET COSMOS config.txt # Look in the COSMOS target directory for config.txt
</code></pre></figure>

<h2 id="interface">
<a id="interface" class="anchor" href="#interface" aria-hidden="true"><span class="octicon octicon-link"></span></a>INTERFACE</h2>
<p><strong>Defines a connection to a physical target</strong></p>

<p>Interfaces are what COSMOS uses to talk to a particular piece of hardware. Interfaces require a Ruby file which implements all the interface methods necessary to talk to the hardware. COSMOS defines many built in interfaces or you can define your own as long as it implements the interface protocol.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Interface Name</td>
      <td>Name of the interface. This name will appear in the Interfaces tab of the Server and is also referenced by other keywords. The COSMOS convention is to name interfaces after their targets with ‘_INT’ appended to the name, e.g. INST_INT for the INST target.</td>
      <td>True</td>
    </tr>
    <tr>
      <td>Filename</td>
      <td>Ruby file to use when instantiating the interface.<br><br>Valid Values: <span class="values">tcpip_client_interface.rb, tcpip_server_interface.rb, udp_interface.rb, serial_interface.rb, cmd_tlm_server_interface.rb, linc_interface.rb</span>
</td>
      <td>True</td>
    </tr>
  </tbody>
</table>

<p>Additional parameters are required. Please see the <a href="/docs/interfaces">Interfaces</a> documentation for more details.</p>

<h2 id="router">
<a id="router" class="anchor" href="#router" aria-hidden="true"><span class="octicon octicon-link"></span></a>ROUTER</h2>
<p><strong>Create an interface which reverses cmd/tlm data</strong></p>

<p>Router creates an interface which receives command packets from their remote targets and send them out their interfaces. They receive telemetry packets from their interfaces and send them to their remote targets. This allows routers to be intermediaries between an external client and an actual device.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Name</td>
      <td>Name of the router</td>
      <td>True</td>
    </tr>
    <tr>
      <td>Filename</td>
      <td>Ruby file to use when instantiating the interface.<br><br>Valid Values: <span class="values">tcpip_client_interface.rb, tcpip_server_interface.rb, udp_interface.rb, serial_interface.rb, cmd_tlm_server_interface.rb, linc_interface.rb</span>
</td>
      <td>True</td>
    </tr>
  </tbody>
</table>

<p>Additional parameters are required. Please see the <a href="/docs/interfaces">Interfaces</a> documentation for more details.</p>

<h2 id="collect_metadata">
<a id="collect_metadata" class="anchor" href="#collect_metadata" aria-hidden="true"><span class="octicon octicon-link"></span></a>COLLECT_METADATA</h2>
<p><strong>Prompts the user for meta data when starting the Command and Telemetry Server</strong></p>

<h2 id="background_task">
<a id="background_task" class="anchor" href="#background_task" aria-hidden="true"><span class="octicon octicon-link"></span></a>BACKGROUND_TASK</h2>
<p><strong>Create a background task in the Command and Telemetry Server</strong></p>

<p>The Server instantiates the class which must inherit from BackgroundTask and then calls the call() method which the class must implement. The call() method is only called once so if your background task is supposed to live on while the Server is running, you must implement your code in a loop with a sleep to not use all the CPU.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Filename</td>
      <td>Ruby file which contains the background task implementation. Must inherit from BackgroundTask and implement the call method.</td>
      <td>True</td>
    </tr>
    <tr>
      <td>Optional Arguments</td>
      <td>Optional arguments to the background task constructor</td>
      <td>False</td>
    </tr>
  </tbody>
</table>

<p>Example Usage:</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">BACKGROUND_TASK example_background_task.rb</code></pre></figure>

<h3 id="interface-modifiers">
<a id="interface-modifiers" class="anchor" href="#interface-modifiers" aria-hidden="true"><span class="octicon octicon-link"></span></a>INTERFACE Modifiers</h3>
<p>The following keywords must follow a INTERFACE keyword.</p>

<h3 id="target">
<a id="target" class="anchor" href="#target" aria-hidden="true"><span class="octicon octicon-link"></span></a>TARGET</h3>
<p><strong>Maps a target name to an interface</strong></p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Target Name</td>
      <td>Target name to map to this interface<br><br>Valid Values: <span class="values">Any Target Name</span>
</td>
      <td>True</td>
    </tr>
  </tbody>
</table>

<h3 id="dont_connect">
<a id="dont_connect" class="anchor" href="#dont_connect" aria-hidden="true"><span class="octicon octicon-link"></span></a>DONT_CONNECT</h3>
<p><strong>Server will not automatically try to connect to the interface at startup</strong></p>

<h3 id="dont_reconnect">
<a id="dont_reconnect" class="anchor" href="#dont_reconnect" aria-hidden="true"><span class="octicon octicon-link"></span></a>DONT_RECONNECT</h3>
<p><strong>Server will not try to reconnect to the interface if the connection is lost</strong></p>

<h3 id="reconnect_delay">
<a id="reconnect_delay" class="anchor" href="#reconnect_delay" aria-hidden="true"><span class="octicon octicon-link"></span></a>RECONNECT_DELAY</h3>
<p><strong>Reconnect delay in seconds</strong></p>

<p>If DONT_RECONNECT is not present the Server will try to reconnect to an interface if the connection is lost. Reconnect delay sets the interval in seconds between reconnect tries.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Delay</td>
      <td>Delay in seconds between reconnect attempts. The default is 15 seconds.</td>
      <td>True</td>
    </tr>
  </tbody>
</table>

<h3 id="disable_disconnect">
<a id="disable_disconnect" class="anchor" href="#disable_disconnect" aria-hidden="true"><span class="octicon octicon-link"></span></a>DISABLE_DISCONNECT</h3>
<p><strong>Disable the Disconnect button on the Interfaces tab in the Server</strong></p>

<p>Use this keyword to prevent the user from disconnecting from the interface. This is typically used in a ‘production’ environment where you would not want the user to inadvertantly disconnect from a target.</p>

<h3 id="log">
<a id="log" class="anchor" href="#log" aria-hidden="true"><span class="octicon octicon-link"></span></a>LOG</h3>
<p><strong>Enable logging on the interface by the specified log writer</strong></p>

<p>LOG is only required if you want a log writer other than the default to log commands and telemetry on this interface</p>

<div class="note warning"><p>Choosing a custom log writer can prevent COSMOS from reading back your log files</p></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Name</td>
      <td>Log writer name as defined by PACKET_LOG_WRITER</td>
      <td>True</td>
    </tr>
  </tbody>
</table>

<h3 id="dont_log">
<a id="dont_log" class="anchor" href="#dont_log" aria-hidden="true"><span class="octicon octicon-link"></span></a>DONT_LOG</h3>
<p><strong>Disable logging commands and telemetry on this interface</strong></p>

<h3 id="log_raw">
<a id="log_raw" class="anchor" href="#log_raw" aria-hidden="true"><span class="octicon octicon-link"></span></a>LOG_RAW</h3>
<p><strong>Log all data on the interface exactly as it is sent and received</strong></p>

<p>LOG_RAW does not add any COSMOS headers and thus can not be read by COSMOS tools. It is primarily useful for low level debugging of an interface. You will have to manually parse these logs yourself using a hex editor or other application.</p>

<h3 id="background_task-modifiers">
<a id="background_task-modifiers" class="anchor" href="#background_task-modifiers" aria-hidden="true"><span class="octicon octicon-link"></span></a>BACKGROUND_TASK Modifiers</h3>
<p>The following keywords must follow a BACKGROUND_TASK keyword.</p>

<h3 id="stopped">
<a id="stopped" class="anchor" href="#stopped" aria-hidden="true"><span class="octicon octicon-link"></span></a>STOPPED</h3>
<p><strong>Indicate the background task should not be automatically started</strong></p>

<h1 id="project-crc-checking">
<a id="project-crc-checking" class="anchor" href="#project-crc-checking" aria-hidden="true"><span class="octicon octicon-link"></span></a>Project CRC Checking</h1>
<p>The COSMOS Launcher will check CRCs on project files if a data/crc.txt file is present. The file is made up of filename, a space character, and the expected CRC for the file. If the user updates the file from the Launcher legal dialog, the keyword USER_MODIFIED will be added to the top. This line should be deleted for an official release.</p>

<p>Example File:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">lib/example_background_task.rb 0xCF0A70AF
lib/example_target.rb 0x5B7507D3
lib/user_version.rb 0x8F282EE9</code></pre></figure>


          





  
  

  
  

  
  

  
  

  
  

  
  
    <div class="top-section-nav">
      <div class="left align-right">
          
            
            
            <a href="/docs/gettingstarted/" class="prev">Back</a>
          
      </div>
      <div class="right align-left">
          
            
            
            <a href="/docs/command/" class="next">Next</a>
          
      </div>
    </div>
    <div class="clear"></div>
    

        </article>
      </div>

      <div class="unit one-fifth hide-on-mobiles">
  <aside>
    
    <h4>Getting Started</h4>
    

<ul>

  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/home/">Welcome</a></li>
      


  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/installation/">Installation</a></li>
      


  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/upgrading/">Upgrading and the Gemfile</a></li>
      


  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/structure/">Directory structure</a></li>
      


  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/gettingstarted/">Getting Started</a></li>
      


</ul>

    
    <h4>System Configuration</h4>
    

<ul>

  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class="current"><a href="/docs/system/">System Configuration</a></li>
      


  

  

  
    
  
    
      <li class=""><a href="/docs/command/">Command Configuration</a></li>
      


  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/telemetry/">Telemetry Configuration</a></li>
      


  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/interfaces/">Interface Configuration</a></li>
      


  

  

  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/environment/">Environment Variables</a></li>
      


</ul>

    
    <h4>Tool Configuration</h4>
    

<ul>

  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/launcher/">Launcher</a></li>
      


  

  

  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/data_viewer/">Data Viewer</a></li>
      


  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/handbook_creator/">Handbook Creator</a></li>
      


  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/limits_monitor/">Limits Monitor</a></li>
      


  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/script_runner/">Script Runner</a></li>
      


  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/table_manager/">Table Manager</a></li>
      


  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/test_runner/">Test Runner</a></li>
      


  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/tlm_extractor/">Telemetry Extractor</a></li>
      


  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/tlm_viewer/">Telemetry Viewer</a></li>
      


  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/screens/">Telemetry Screens</a></li>
      


</ul>

    
    <h4>User's Guides</h4>
    

<ul>

  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/scripting/">Scripting Guide</a></li>
      


  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/gemtargets/">Gem Based Targets and Tools</a></li>
      


</ul>

    
    <h4>Tips</h4>
    

<ul>

  

  

  
    
      <li class=""><a href="/docs/chaining/">Chaining CmdTlmServers</a></li>
      


</ul>

    
    <h4>Development</h4>
    

<ul>

  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/system_class/">System Class</a></li>
      


  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/packet_class/">Packet Class</a></li>
      


  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/json_api/">JSON API</a></li>
      


</ul>

    
    <h4>Meta</h4>
    

<ul>

  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/requirements/">Requirements and Design</a></li>
      


  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/xtce/">XTCE Support</a></li>
      


  

  

  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/contributing/">Contributing</a></li>
      


  

  

  
    
  
    
  
    
      <li class=""><a href="/docs/contact/">Contact Us</a></li>
      


  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/history/">Release History</a></li>
      


  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/papers/">Papers</a></li>
      


</ul>

    
  </aside>
</div>


      <div class="clear"></div>

    </div>
  </section>


  <script>
  (function() {
    var cx = '001663949569052626382:-enhin1layy';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<footer role="contentinfo">
  <div class="grid wider">
    <div class="unit one-third center-on-mobiles">
      <p>The contents of this website are &copy;&nbsp;2017 <a href="http://www.ballaerospace.com/" target="_blank">Ball Aerospace</a> under the terms of the <a href="https://github.com/BallAerospace/COSMOS/blob/master/LICENSE.txt" target="_blank">GPLv3&nbsp;License</a>.</p>
      <p>Site design derived from the <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> project documentation which is licensed under the terms of the <a href="https://github.com/jekyll/jekyll/blob/master/LICENSE" target="_blank">MIT License</a>.</p>
    </div>
    <div class="unit two-thirds align-right center-on-mobiles">
      <p>
        <gcse:search></gcse:search>
        Proudly hosted by
        <a href="https://github.com" target="_blank">
          <img src="/img/footer-logo.png" width="100" height="30" alt="GitHub Social coding">
        </a>
      </p>
    </div>
  </div>
</footer>

  <script>
  var anchorForId = function (id) {
    var anchor = document.createElement("a");
    anchor.className = "header-link";
    anchor.href      = "#" + id;
    anchor.innerHTML = "<span class=\"sr-only\">Permalink</span><i class=\"fa fa-link\"></i>";
    anchor.title = "Permalink";
    return anchor;
  };

  var linkifyAnchors = function (level, containingElement) {
    var headers = containingElement.getElementsByTagName("h" + level);
    for (var h = 0; h < headers.length; h++) {
      var header = headers[h];

      if (typeof header.id !== "undefined" && header.id !== "") {
        header.appendChild(anchorForId(header.id));
      }
    }
  };

  document.onreadystatechange = function () {
    if (this.readyState === "complete") {
      var contentBlock = document.getElementsByClassName("docs")[0] || document.getElementsByClassName("news")[0];
      if (!contentBlock) {
        return;
      }
      for (var level = 1; level <= 6; level++) {
        linkifyAnchors(level, contentBlock);
      }
    }
  };
</script>

  
  <!-- Google Analytics (http://google.com/analytics) -->
  <script>
    !function(j,e,k,y,l,L){j.GoogleAnalyticsObject=y,j[y]||(j[y]=function(){
    (j[y].q=j[y].q||[]).push(arguments)}),j[y].l=+new Date,l=e.createElement(k),
    L=e.getElementsByTagName(k)[0],l.src='//www.google-analytics.com/analytics.js',
    L.parentNode.insertBefore(l,L)}(window,document,'script','ga');

    ga('create', 'UA-60103689-1', 'cosmosrb.com');
    ga('send', 'pageview');

  </script>



</body>
</html>
